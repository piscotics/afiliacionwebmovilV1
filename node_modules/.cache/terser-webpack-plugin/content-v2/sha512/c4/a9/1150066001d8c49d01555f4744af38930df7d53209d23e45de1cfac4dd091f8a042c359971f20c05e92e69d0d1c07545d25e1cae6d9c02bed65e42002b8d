{"code":"(window[\"webpackJsonp\"]=window[\"webpackJsonp\"]||[]).push([[9],{\"30f7\":function(e,a,i){\"use strict\";i.d(a,\"a\",(function(){return d}));var t=i(\"7424\"),o=i(\"7cf4\"),n=i(\"18d6\");let s,r,l=n[\"a\"].getItem(\"pisco-afilweb\");const d={departments:async()=>{let e={\"Content-Type\":\"application/json\"},a={subdominio:l.subdomain};return await t[\"a\"].get(o[\"a\"].apiDepartamento+\"list/\",{params:a,headers:e}).then((e=>e)).catch((e=>e.response))},cities:async e=>{const a={\"Content-Type\":\"application/json\"};let i={codDepartamento:e,subdominio:l.subdomain};return await t[\"a\"].get(o[\"a\"].apiDepartamento+\"cities/\",{params:i,headers:a}).then((e=>e)).catch((e=>e.response))},paymentMethods:async()=>{let e={\"Content-Type\":\"application/json\"},a={subdominio:l.subdomain};return await t[\"a\"].get(o[\"a\"].apiFormaPago+\"list/\",{params:a,headers:e}).then((e=>e)).catch((e=>e.response))},paymentTypes:async()=>{console.log(\"llego a cargar tipos pagos\");let e={\"Content-Type\":\"application/json\"},a={subdominio:l.subdomain};return await t[\"a\"].get(o[\"a\"].apiTipoPago+\"list/\",{params:a,headers:e}).then((e=>e)).catch((e=>e.response))},cash:async()=>{let e={\"Content-Type\":\"application/json\"},a={subdominio:l.subdomain};return await t[\"a\"].get(o[\"a\"].apiCaja+\"list/\",{params:a,headers:e}).then((e=>e)).catch((e=>e.response))},novelty:async()=>{let e={\"Content-Type\":\"application/json\"},a={subdominio:l.subdomain};return await t[\"a\"].get(o[\"a\"].apiNovelty+\"list/\",{params:a,headers:e}).then((e=>e)).catch((e=>e.response))},serviceadicional:async()=>{let e={\"Content-Type\":\"application/json\"},a={subdominio:l.subdomain};return await t[\"a\"].get(o[\"a\"].apiServiceadicional+\"list/\",{params:a,headers:e}).then((e=>e)).catch((e=>e.response))},titularesBeneficiarios:async()=>{let e={\"Content-Type\":\"application/json\"};s=n[\"a\"].getItem(\"identificacionTitular\"),r=n[\"a\"].getItem(\"contratoTitular\");let a={subdominio:l.subdomain,identificaciontitular:s,idcontrato:r};return await t[\"a\"].get(o[\"a\"].apiTitularesBeneficiarios+\"list/\",{params:a,headers:e}).then((e=>e)).catch((e=>e.response))}}},\"82a3\":function(e,a,i){\"use strict\";i.r(a);var t=function(){var e=this,a=e.$createElement,i=e._self._c||a;return i(\"div\",{staticClass:\"q-pa-md full-width row justify-center content-center\"},[i(\"div\",{staticStyle:{\"min-width\":\"400px\",\"max-width\":\"700px\",padding:\"0 20px\"}},[i(\"q-table\",{attrs:{title:\"Servicios Adicionales\",\"rows-per-page-label\":\"Items\",separator:\"cell\",data:e.dataTable,columns:e.columns,\"visible-columns\":e.viewColumns,\"row-key\":\"dataTable.id\",\"rows-per-page-options\":e.pagination,loading:e.loadingTable},scopedSlots:e._u([e.isMobile?null:{key:\"top-right\",fn:function(){return[i(\"q-btn\",{attrs:{icon:\"add\",label:\"Agregar Nuevo\",color:\"primary\"},on:{click:e.addItem}})]},proxy:!0},{key:\"header-cell-actions\",fn:function(a){return[i(\"q-th\",{attrs:{props:a}},[i(\"q-icon\",{attrs:{name:\"view_headline\",size:\"1.5em\"}}),e._v(\"\\n          \"+e._s(a.col.label)+\"\\n        \")],1)]}},{key:\"body-cell-actions\",fn:function(a){return[i(\"q-td\",{staticStyle:{width:\"50px\"},attrs:{props:a}},[i(\"q-btn\",{attrs:{dense:\"\",round:\"\",flat:\"\",color:\"positive\",icon:\"edit\"},on:{click:function(i){return e.editItem(a)}}})],1)]}},{key:\"body-cell-estado\",fn:function(a){return[i(\"q-td\",{attrs:{props:a}},[e._v(\"\\n          \"+e._s(e._f(\"FilterState\")(a.row.estado))+\"\\n        \")])]}},{key:\"no-data\",fn:function(){return[i(\"div\",{staticClass:\"full-width row flex-center q-gutter-sm\"},[i(\"span\",[e._v(\" No hay datos . . . crea el primer registro! \")])])]},proxy:!0}],null,!0)})],1),e.isMobile?i(\"div\",{staticClass:\"column items-center\",staticStyle:{\"padding-bottom\":\"0px\"}},[i(\"q-page-sticky\",{attrs:{position:\"bottom-left\",offset:[18,50]}},[i(\"q-btn\",{attrs:{fab:\"\",icon:\"add\",color:\"primary\"},on:{click:e.addItem}})],1)],1):e._e()])},o=[],n=i(\"7424\"),s=i(\"7cf4\"),r=i(\"18d6\"),l=i(\"c1df\"),d=i.n(l);let c,p,u,h=r[\"a\"].getItem(\"pisco-afilweb\");const m={list:async()=>{let e={\"Content-Type\":\"application/json\"};console.log(\"llego alistar\",c,p),c=r[\"a\"].getItem(\"identificacionTitular\"),p=r[\"a\"].getItem(\"contratoTitular\");let a={subdominio:h.subdomain,identificaciontitular:c,idcontrato:p};return await n[\"a\"].get(s[\"a\"].apiContractServicios+\"list/\",{params:a,headers:e}).then((e=>(console.log(\"los servicios son\",e),e))).catch((e=>e.response))},create:async e=>{let a={\"Content-Type\":\"application/json\"};p=r[\"a\"].getItem(\"contratoTitular\"),u=r[\"a\"].getItem(\"UsuarioLogueado\");let i={idNovedad:e.idNovedad||0,idContrato:p,fechanovedad:d()(e.fechanovedad).format(),postfechadodia:e.postfechadodia||0,aplicada:e.aplicada||0,fechan:e.fechan||\"1999-01-01\",usuario:u||\"\",idcobrador:e.idcobrador||\"\",modulo:e.modulo||\"\",transac:e.transac||0,fechaprogramada:e.fechaprogramada||\"1999-01-01\",posicionx:e.posicionx||\"\",posiciony:e.posiciony||\"\",titular:e.titular||\"\",observaciones:e.observaciones||\"\",idalterna:e.idalterna||0,subdominio:h.subdomain};return await n[\"a\"].post(s[\"a\"].apiContractServicios+\"create/\",i,{headers:a}).then((e=>e)).catch((e=>e.response))},edit:async(e,a)=>{let i={\"Content-Type\":\"application/json\"};console.log(\"actualizar novedad\",e),p=r[\"a\"].getItem(\"contratoTitular\"),u=r[\"a\"].getItem(\"UsuarioLogueado\");let t={idNovedadContrato:a.idNovedadContrato,idNovedad:a.idNovedad||0,idContrato:p,fechanovedad:d()(a.fechanovedad).format(),postfechadodia:a.postfechadodia||0,aplicada:a.aplicada||0,fechan:a.fechan||\"1999-01-01\",usuario:u||\"\",idcobrador:a.idcobrador||\"\",modulo:a.modulo||\"\",transac:a.transac||0,fechaprogramada:a.fechaprogramada||\"1999-01-01\",posicionx:a.posicionx||\"\",posiciony:a.posiciony||\"\",titular:a.titular||\"\",observaciones:a.observaciones||\"\",idalterna:a.idalterna||0,subdominio:h.subdomain};return await n[\"a\"].put(s[\"a\"].apiContractServicios+\"update/\",t,{headers:i}).then((e=>e)).catch((e=>e.response))},get:async e=>{const a={\"Content-Type\":\"application/json\"};let i={idServiciosAdicionales:e,subdominio:h.subdomain};return await n[\"a\"].get(s[\"a\"].apiContractServicios+\"get/\",{params:i,headers:a}).then((e=>e)).catch((e=>e.response))}};var f=i(\"4f24\"),v=function(){var e=this,a=e.$createElement,i=e._self._c||a;return i(\"q-dialog\",{ref:\"dialog\",on:{hide:e.onDialogHide}},[i(\"q-card\",{staticClass:\"q-dialog-plugin body-cards\"},[i(\"q-card-section\",[i(\"q-form\",{ref:\"form_modal\"},[i(\"q-select\",{attrs:{filled:\"\",options:e.serviciosadicionales,\"option-value\":\"idsa\",\"option-label\":\"descripcion\",label:\"* Servicio\",\"emit-value\":\"\",\"map-options\":\"\",rules:e.selRules},on:{input:function(a){e.loadValorServicio(a)}},model:{value:e.idsa,callback:function(a){e.idsa=a},expression:\"idsa\"}}),i(\"q-input\",{attrs:{type:\"number\",filled:\"\",label:\"* Valor\",\"lazy-rules\":\"\",rules:e.selRules,counter:\"\"},model:{value:e.valor,callback:function(a){e.valor=a},expression:\"valor\"}}),i(\"q-input\",{attrs:{filled:\"\",\"option-value\":\"fecha\",label:\"Fecha \",clearable:\"\",disable:\"\"},scopedSlots:e._u([{key:\"append\",fn:function(){return[i(\"q-icon\",{staticClass:\"cursor-pointer\",attrs:{name:\"event\"}},[i(\"q-popup-proxy\",{ref:\"qDateProxy\",attrs:{\"transition-show\":\"scale\",\"transition-hide\":\"scale\"}},[i(\"q-date\",{attrs:{\"option-value\":\"fecha\",options:e.optionDatePicker,mask:\"YYYY-MM-DD\"},model:{value:e.fecha,callback:function(a){e.fecha=a},expression:\"fecha\"}},[i(\"div\",{staticClass:\"row items-center justify-end\"},[i(\"q-btn\",{directives:[{name:\"close-popup\",rawName:\"v-close-popup\"}],attrs:{label:\"Cerrar\",color:\"primary\",flat:\"\"}})],1)])],1)],1)]},proxy:!0}]),model:{value:e.fecha,callback:function(a){e.fecha=a},expression:\"fecha\"}}),i(\"br\"),i(\"q-select\",{attrs:{filled:\"\",options:e.vendedores,label:\"* Vendedor\",\"option-value\":\"idPersona\",\"option-label\":function(e){return e.nombre1+\" \"+e.apellido1},\"emit-value\":\"\",\"map-options\":\"\",rules:e.selRules},model:{value:e.idasesor,callback:function(a){e.idasesor=a},expression:\"idasesor\"}}),i(\"q-select\",{attrs:{filled:\"\",options:e.titularesBenefi,label:\"* Beneficiario\",\"option-value\":\"identificacion\",\"option-label\":function(e){return e.nombre1+\" \"+e.nombre2+\" \"+e.apellido1+\" \"+e.apellido2},\"emit-value\":\"\",\"map-options\":\"\",rules:e.selRules},model:{value:e.idpersonaBenefi,callback:function(a){e.idpersonaBenefi=a},expression:\"idpersonaBenefi\"}})],1)],1),i(\"q-card-actions\",{attrs:{align:\"center\"}},[i(\"q-btn\",{attrs:{color:\"primary\",label:e.textAction},on:{click:e.onOKClick}}),i(\"q-btn\",{attrs:{color:\"primary\",flat:\"\",label:\"Cancelar\"},on:{click:e.onCancelClick}})],1)],1)],1)},b=[],g=(i(\"ddb0\"),i(\"30f7\"));let y,w=r[\"a\"].getItem(\"pisco-afilweb\");const C={list:async()=>{let e={\"Content-Type\":\"application/json\"};y=r[\"a\"].getItem(\"contratoTitular\");let a={subdominio:w.subdomain,idcontrato:y};return await n[\"a\"].get(s[\"a\"].apiServiceadicional+\"list/\",{params:a,headers:e}).then((e=>e)).catch((e=>e.response))},get:async e=>{const a={\"Content-Type\":\"application/json\"};let i={idServiciosAdicionales:e,subdominio:w.subdomain};return await n[\"a\"].get(s[\"a\"].apiServiceadicional+\"get/\",{params:i,headers:a}).then((e=>e)).catch((e=>e.response))}};var q=i(\"df2a\");let F;F=r[\"a\"].getItem(\"identificacionTitular\");var T={name:\"ModalNoveltyContract\",data(){return{idca:0,idcontrato:\"\",idsadicional:0,valor:0,usuario:\"\",fecha:d()().format(\"YYYY-MM-DD\").toString(),servicioadicional:\"\",valoranterior:0,fecharetiro:d()().format(\"YYYY-MM-DD\").toString(),idasesor:\"01V\",idpersonaBenefi:F,serviciosadicionales:[],vendedores:[],titularesBenefi:[],idsa:\"\",textRules:[e=>e&&e.length>0||\"Campo Obligatorio (*)\",e=>e.length<=50||\"Máximo 50 carácteres\"],selRules:[e=>!!e||\"Campo Obligatorio\"],numberRules:[e=>!isNaN(parseFloat(e))&&e.length>=0||\"Campo Obligatorio (*)\"],contrato:{vendedor:{}}}},props:{valueField1:{type:Number,required:!0},valueField2:{type:String,required:!0},valueField3:{type:Number,required:!0},valueField4:{type:Number,required:!0},valueField5:{type:String,required:!0},valueField6:{type:String,required:!0},valueField7:{type:String,required:!0},valueField8:{type:Number,required:!0},valueField9:{type:String,required:!0},valueField10:{type:String,required:!0},textAction:{type:String,required:!0}},created(){this.loadData(),0!=this.valueField1&&(this.idca=this.valueField1),this.idcontrato=this.valueField2,0!=this.valueField3&&(this.idsa=this.valueField3),0!=this.valueField4&&(this.valor=this.valueField4),this.idcousuariontrato=this.valueField5,0!=this.valueField6&&\"1999-01-01T00:00:00\"!=this.valueField6&&(this.fecha=d()(this.valueField6).format(\"YYYY-MM-DD\")),\"\"!=this.valueField7?this.idpersonaBenefi=this.valueField7:(console.log(\"idtitular\",F),this.idpersonaBenefi=F),0!=this.valueField8&&(this.valoranterior=this.valueField8),0!=this.valueField9&&\"1999-01-01T00:00:00\"!=this.valueField9?this.fecharetiro=d()(this.valueField9).format(\"YYYY-MM-DD\"):this.fecharetiro=\"\",console.log(\"asesor\",this.valueField10),\"\"!=this.valueField10?this.idasesor=this.valueField10:this.idasesor=\"01V\"},methods:{show(){this.$refs.dialog.show()},hide(){this.$refs.dialog.hide()},onDialogHide(){this.$emit(\"hide\")},optionDatePicker(e){return e>=d()().format(\"YYYY/MM/DD\").toString()},async loadData(){this.$q.loading.show({message:\"<span class='text-orange text-weight-bold'>Consultando parámetros, por favor espere...</span>\"}),await Promise.all([g[\"a\"].serviceadicional(),q[\"a\"].list(\"VENDEDOR\"),g[\"a\"].titularesBeneficiarios()]).then((e=>{console.log(e),this.serviciosadicionales=e[0].data,this.vendedores=e[1].data,this.titularesBenefi=e[2].data})).catch((e=>{console.log({err:e}),this.serviciosadicionales=[],this.vendedores=[],this.titularesBenefi=[]})),this.$q.loading.hide()},async loadValorServicio(e){console.log(\"llego loadValorServicio\"),await C.get(e).then((e=>{console.log(e),200===(null===e||void 0===e?void 0:e.status)&&(this.valor=e.data.valor,console.log(\"el listado del servicio es \",e.data))}))},onOKClick(){this.$refs.form_modal.validate().then((e=>{e&&(console.log(\"xxx#11\"),this.$emit(\"ok\",{idca:this.idca,idcontrato:this.idcontrato,idsadicional:this.idsadicional,valor:this.valor,usuario:this.usuario,fecha:this.fecha,idpersona:this.idpersonaBenefi,valoranterior:this.valoranterior,fecharetiro:this.fecharetiro,idasesor:this.idasesor}),this.hide())}))},onCancelClick(){this.hide()}}},S=T,x=i(\"2877\"),D=i(\"24e8\"),k=i(\"f09f\"),I=i(\"a370\"),Y=i(\"0378\"),A=i(\"ddd8\"),M=i(\"27f9\"),j=i(\"0016\"),N=i(\"7cbe\"),B=i(\"52ee\"),E=i(\"9c40\"),P=i(\"4b7e\"),Q=i(\"7f67\"),_=i(\"eebe\"),R=i.n(_),O=Object(x[\"a\"])(S,v,b,!1,null,null,null),$=O.exports;let V;R()(O,\"components\",{QDialog:D[\"a\"],QCard:k[\"a\"],QCardSection:I[\"a\"],QForm:Y[\"a\"],QSelect:A[\"a\"],QInput:M[\"a\"],QIcon:j[\"a\"],QPopupProxy:N[\"a\"],QDate:B[\"a\"],QBtn:E[\"a\"],QCardActions:P[\"a\"]}),R()(O,\"directives\",{ClosePopup:Q[\"a\"]});var z={name:\"ModalContractAdicional\",data(){return{loadingTable:!1,pagination:[5,10,0],viewColumns:[\"actions\",\"servicioadicional\",\"valor\",\"idpersona\",\"usuario\",\"fecha\",\"valoranterior\",\"fecharetiro\",\"asesor\"],columns:[{name:\"actions\",label:\"\",field:\"\",align:\"center\",icon:\"delete\"},{name:\"servicioadicional\",required:!1,label:\"Servicio Adicional\",field:\"servicioadicional\",sortable:!0,align:\"left\"},{name:\"valor\",required:!1,label:\"Valor\",field:\"valor\",sortable:!0,align:\"left\"},{name:\"idpersona\",required:!1,label:\"Identifiacion\",field:\"idpersona\",sortable:!0,align:\"left\"},{name:\"usuario\",required:!1,label:\"Usuario\",field:\"usuario\",sortable:!0,align:\"left\"},{name:\"fecha\",required:!1,label:\"Fecha\",field:\"fecha\",sortable:!0,align:\"left\"},{name:\"valoranterior\",required:!1,label:\"Valor Anterior\",field:\"valoranterior\",sortable:!0,align:\"left\"},{name:\"fecharetiro\",required:!1,label:\"Fecha Retiro\",field:\"fecharetiro\",sortable:!0,align:\"left\"},{name:\"asesor\",required:!1,label:\"Asesor\",field:\"asesor\",sortable:!0,align:\"left\"}],dataTable:[],fabAction:!1}},beforeMount(){this.loadData()},methods:{editItem(e){this.fabAction=!1,this.saveOrEditItem(e.row)},addItem(){this.fabAction=!0,this.saveOrEditItem(\"\")},saveOrEditItem(e){this.$q.dialog({component:$,valueField1:this.fabAction?0:e.idca,valueField2:this.fabAction?\"\":e.idcontrato,valueField3:this.fabAction?0:e.idsadicional,valueField4:this.fabAction?0:e.valor,valueField5:this.fabAction?\"\":e.usuario,valueField6:this.fabAction?\"\":e.fecha,valueField7:this.fabAction?\"\":e.idpersona,valueField8:this.fabAction?0:e.valoranterior,valueField9:this.fabAction?\"\":e.fecharetiro,valueField10:this.fabAction?\"\":e.idasesor,parent:this,textAction:this.fabAction?\"Guardar\":\"Modificar\"}).onOk((a=>{this.fabAction?this.addRegister(a):this.editRegister(a,e.id)})).onCancel((()=>{})).onDismiss((()=>{}))},async addRegister(e){await m.create(e).then((e=>{console.log(e),200===(null===e||void 0===e?void 0:e.status)?(f[\"a\"].triggerPositive(\"Registro almacenado correctamente\"),this.loadData()):f[\"a\"].triggerNegative(\"El registro no pudo ser almacenado\")}))},async editRegister(e,a){console.log(\"actu servicio\",e,a),await m.edit(a,e).then((e=>{console.log(e),200===(null===e||void 0===e?void 0:e.status)?(f[\"a\"].triggerPositive(\"Registro modificado correctamente\"),this.loadData()):f[\"a\"].triggerNegative(\"El registro no pudo ser modificado\")}))},async loadData(){this.loadingTable=!0,V=r[\"a\"].getItem(\"contratoTitular\"),console.log(\"sin servicio \",V),null==V?(localStorage.setItem(\"buscarServicio\",\"Si\"),this.$router.push({path:\"/search\"})):(this.loadingTable=!0,localStorage.setItem(\"buscarServicio\",\"No\"),await m.list().then((e=>{if(200===(null===e||void 0===e?void 0:e.status)){for(let a in e.data)e.data[a].fecha=d()(e.data[a].fecha).format(\"YYYY-MMM-DD\");this.dataTable=e.data}}))),this.loadingTable=!1}},computed:{isMobile:{get(){return this.$store.state.platform_mobile.isMobile}}}},U=z,H=i(\"eaac\"),J=i(\"357e\"),K=i(\"db86\"),L=i(\"de5e\"),G=Object(x[\"a\"])(U,t,o,!1,null,null,null);a[\"default\"]=G.exports;R()(G,\"components\",{QTable:H[\"a\"],QBtn:E[\"a\"],QTh:J[\"a\"],QIcon:j[\"a\"],QTd:K[\"a\"],QPageSticky:L[\"a\"]})},df2a:function(e,a,i){\"use strict\";i.d(a,\"a\",(function(){return r}));var t=i(\"7424\"),o=i(\"7cf4\"),n=i(\"18d6\");let s=n[\"a\"].getItem(\"pisco-afilweb\");const r={list:async e=>{let a={\"Content-Type\":\"application/json\"},i={tipoEmpleado:e,subdominio:s.subdomain};return await t[\"a\"].get(o[\"a\"].apiEmpleado+\"list/\",{params:i,headers:a}).then((e=>e)).catch((e=>e.response))},create:async e=>{let a={\"Content-Type\":\"application/json\"},i={idPersona:e.idPersona,nombre1:e.nombre1,nombre2:e.nombre2||\"\",apellido1:e.apellido1,apellido2:e.apellido2||\"\",telefono1:e.telefono1,telefono2:e.telefono02||\"\",tipoEmpleado:e.tipoEmpleado,subdominio:s.subdomain};return await t[\"a\"].post(o[\"a\"].apiEmpleado+\"create/\",i,{headers:a}).then((e=>e)).catch((e=>e.response))},edit:async(e,a)=>{let i={\"Content-Type\":\"application/json\"},n={id:e,idPersona:a.idPersona,nombre1:a.nombre1,nombre2:a.nombre2||\"\",apellido1:a.apellido1,apellido2:a.apellido2||\"\",telefono1:a.telefono1,telefono2:a.telefono2||\"\",tipoEmpleado:a.tipoEmpleado,estado:a.estado?0:1,subdominio:s.subdomain};return await t[\"a\"].put(o[\"a\"].apiEmpleado+\"update/\",n,{headers:i}).then((e=>e)).catch((e=>e.response))}}}}]);","name":"js/9.9ca64f45.js","input":"(window[\"webpackJsonp\"] = window[\"webpackJsonp\"] || []).push([[9],{\n\n/***/ \"30f7\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"a\", function() { return Utilities; });\n/* harmony import */ var _api__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(\"7424\");\n/* harmony import */ var _endpoints__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(\"7cf4\");\n/* harmony import */ var quasar_src_plugins_LocalStorage_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(\"18d6\");\n\n\n;\nlet localStorage = quasar_src_plugins_LocalStorage_js__WEBPACK_IMPORTED_MODULE_2__[/* default */ \"a\"].getItem(\"pisco-afilweb\");\nlet localStorageTitular;\nlet localStorageContrato;\nlet localStorageUsuarioLogueado;\nconst Utilities = {\n  departments: async () => {\n    let headers = {\n      \"Content-Type\": \"application/json\"\n    };\n    let params = {\n      subdominio: localStorage.subdomain\n    };\n    return await _api__WEBPACK_IMPORTED_MODULE_0__[/* default */ \"a\"].get(_endpoints__WEBPACK_IMPORTED_MODULE_1__[/* default */ \"a\"].apiDepartamento + \"list/\", {\n      params,\n      headers\n    }).then(response => {\n      return response;\n    }).catch(err => {\n      return err.response;\n    });\n  },\n  cities: async depto => {\n    const headers = {\n      \"Content-Type\": \"application/json\"\n    };\n    let params = {\n      codDepartamento: depto,\n      subdominio: localStorage.subdomain\n    };\n    return await _api__WEBPACK_IMPORTED_MODULE_0__[/* default */ \"a\"].get(_endpoints__WEBPACK_IMPORTED_MODULE_1__[/* default */ \"a\"].apiDepartamento + \"cities/\", {\n      params,\n      headers\n    }).then(response => {\n      return response;\n    }).catch(err => {\n      return err.response;\n    });\n  },\n  paymentMethods: async () => {\n    let headers = {\n      \"Content-Type\": \"application/json\"\n    };\n    let params = {\n      subdominio: localStorage.subdomain\n    };\n    return await _api__WEBPACK_IMPORTED_MODULE_0__[/* default */ \"a\"].get(_endpoints__WEBPACK_IMPORTED_MODULE_1__[/* default */ \"a\"].apiFormaPago + \"list/\", {\n      params,\n      headers\n    }).then(response => {\n      return response;\n    }).catch(err => {\n      return err.response;\n    });\n  },\n  paymentTypes: async () => {\n    console.log(\"llego a cargar tipos pagos\");\n    let headers = {\n      \"Content-Type\": \"application/json\"\n    };\n    let params = {\n      subdominio: localStorage.subdomain\n    };\n    return await _api__WEBPACK_IMPORTED_MODULE_0__[/* default */ \"a\"].get(_endpoints__WEBPACK_IMPORTED_MODULE_1__[/* default */ \"a\"].apiTipoPago + \"list/\", {\n      params,\n      headers\n    }).then(response => {\n      return response;\n    }).catch(err => {\n      return err.response;\n    });\n  },\n  cash: async () => {\n    let headers = {\n      \"Content-Type\": \"application/json\"\n    };\n    let params = {\n      subdominio: localStorage.subdomain\n    };\n    return await _api__WEBPACK_IMPORTED_MODULE_0__[/* default */ \"a\"].get(_endpoints__WEBPACK_IMPORTED_MODULE_1__[/* default */ \"a\"].apiCaja + \"list/\", {\n      params,\n      headers\n    }).then(response => {\n      return response;\n    }).catch(err => {\n      return err.response;\n    });\n  },\n  novelty: async () => {\n    let headers = {\n      \"Content-Type\": \"application/json\"\n    };\n    let params = {\n      subdominio: localStorage.subdomain\n    };\n    return await _api__WEBPACK_IMPORTED_MODULE_0__[/* default */ \"a\"].get(_endpoints__WEBPACK_IMPORTED_MODULE_1__[/* default */ \"a\"].apiNovelty + \"list/\", {\n      params,\n      headers\n    }).then(response => {\n      return response;\n    }).catch(err => {\n      return err.response;\n    });\n  },\n  serviceadicional: async () => {\n    let headers = {\n      \"Content-Type\": \"application/json\"\n    };\n    let params = {\n      subdominio: localStorage.subdomain\n    };\n    return await _api__WEBPACK_IMPORTED_MODULE_0__[/* default */ \"a\"].get(_endpoints__WEBPACK_IMPORTED_MODULE_1__[/* default */ \"a\"].apiServiceadicional + \"list/\", {\n      params,\n      headers\n    }).then(response => {\n      return response;\n    }).catch(err => {\n      return err.response;\n    });\n  },\n  titularesBeneficiarios: async () => {\n    let headers = {\n      \"Content-Type\": \"application/json\"\n    };\n    localStorageTitular = quasar_src_plugins_LocalStorage_js__WEBPACK_IMPORTED_MODULE_2__[/* default */ \"a\"].getItem(\"identificacionTitular\");\n    localStorageContrato = quasar_src_plugins_LocalStorage_js__WEBPACK_IMPORTED_MODULE_2__[/* default */ \"a\"].getItem(\"contratoTitular\");\n    let params = {\n      subdominio: localStorage.subdomain,\n      identificaciontitular: localStorageTitular,\n      idcontrato: localStorageContrato\n    };\n    return await _api__WEBPACK_IMPORTED_MODULE_0__[/* default */ \"a\"].get(_endpoints__WEBPACK_IMPORTED_MODULE_1__[/* default */ \"a\"].apiTitularesBeneficiarios + \"list/\", {\n      params,\n      headers\n    }).then(response => {\n      return response;\n    }).catch(err => {\n      return err.response;\n    });\n  }\n};\n\n/***/ }),\n\n/***/ \"82a3\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n// ESM COMPAT FLAG\n__webpack_require__.r(__webpack_exports__);\n\n// CONCATENATED MODULE: ./node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/@quasar/app/lib/webpack/loader.auto-import-client.js?kebab!./node_modules/vue-loader/lib??vue-loader-options!./src/pages/params/contractadicional/Index.vue?vue&type=template&id=112dc2c2&\nvar render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"q-pa-md full-width row justify-center content-center\"},[_c('div',{staticStyle:{\"min-width\":\"400px\",\"max-width\":\"700px\",\"padding\":\"0 20px\"}},[_c('q-table',{attrs:{\"title\":\"Servicios Adicionales\",\"rows-per-page-label\":\"Items\",\"separator\":\"cell\",\"data\":_vm.dataTable,\"columns\":_vm.columns,\"visible-columns\":_vm.viewColumns,\"row-key\":\"dataTable.id\",\"rows-per-page-options\":_vm.pagination,\"loading\":_vm.loadingTable},scopedSlots:_vm._u([(!_vm.isMobile)?{key:\"top-right\",fn:function(){return [_c('q-btn',{attrs:{\"icon\":\"add\",\"label\":\"Agregar Nuevo\",\"color\":\"primary\"},on:{\"click\":_vm.addItem}})]},proxy:true}:null,{key:\"header-cell-actions\",fn:function(props){return [_c('q-th',{attrs:{\"props\":props}},[_c('q-icon',{attrs:{\"name\":\"view_headline\",\"size\":\"1.5em\"}}),_vm._v(\"\\n          \"+_vm._s(props.col.label)+\"\\n        \")],1)]}},{key:\"body-cell-actions\",fn:function(props){return [_c('q-td',{staticStyle:{\"width\":\"50px\"},attrs:{\"props\":props}},[_c('q-btn',{attrs:{\"dense\":\"\",\"round\":\"\",\"flat\":\"\",\"color\":\"positive\",\"icon\":\"edit\"},on:{\"click\":function($event){return _vm.editItem(props)}}})],1)]}},{key:\"body-cell-estado\",fn:function(props){return [_c('q-td',{attrs:{\"props\":props}},[_vm._v(\"\\n          \"+_vm._s(_vm._f(\"FilterState\")(props.row.estado))+\"\\n        \")])]}},{key:\"no-data\",fn:function(){return [_c('div',{staticClass:\"full-width row flex-center q-gutter-sm\"},[_c('span',[_vm._v(\" No hay datos . . . crea el primer registro! \")])])]},proxy:true}],null,true)})],1),(_vm.isMobile)?_c('div',{staticClass:\"column items-center\",staticStyle:{\"padding-bottom\":\"0px\"}},[_c('q-page-sticky',{attrs:{\"position\":\"bottom-left\",\"offset\":[18, 50]}},[_c('q-btn',{attrs:{\"fab\":\"\",\"icon\":\"add\",\"color\":\"primary\"},on:{\"click\":_vm.addItem}})],1)],1):_vm._e()])}\nvar staticRenderFns = []\n\n\n// CONCATENATED MODULE: ./src/pages/params/contractadicional/Index.vue?vue&type=template&id=112dc2c2&\n\n// EXTERNAL MODULE: ./src/services/api.js\nvar api = __webpack_require__(\"7424\");\n\n// EXTERNAL MODULE: ./src/services/endpoints.js\nvar endpoints = __webpack_require__(\"7cf4\");\n\n// EXTERNAL MODULE: ./node_modules/quasar/src/plugins/LocalStorage.js\nvar LocalStorage = __webpack_require__(\"18d6\");\n\n// EXTERNAL MODULE: ./node_modules/moment/moment.js\nvar moment = __webpack_require__(\"c1df\");\nvar moment_default = /*#__PURE__*/__webpack_require__.n(moment);\n\n// CONCATENATED MODULE: ./src/services/http/contractservicios.js\n\n\n;\n\nlet contractservicios_localStorage = LocalStorage[\"a\" /* default */].getItem(\"pisco-afilweb\");\nlet localStorageTitular;\nlet localStorageContrato;\nlet localStorageUsuarioLogueado;\nconst Contractservicios = {\n  list: async () => {\n    let headers = {\n      \"Content-Type\": \"application/json\"\n    };\n    console.log(\"llego alistar\", localStorageTitular, localStorageContrato);\n    localStorageTitular = LocalStorage[\"a\" /* default */].getItem(\"identificacionTitular\");\n    localStorageContrato = LocalStorage[\"a\" /* default */].getItem(\"contratoTitular\");\n    let params = {\n      subdominio: contractservicios_localStorage.subdomain,\n      identificaciontitular: localStorageTitular,\n      idcontrato: localStorageContrato\n    };\n    return await api[\"a\" /* default */].get(endpoints[\"a\" /* default */].apiContractServicios + \"list/\", {\n      params,\n      headers\n    }).then(response => {\n      console.log(\"los servicios son\", response);\n      return response;\n    }).catch(err => {\n      return err.response;\n    });\n  },\n  create: async value => {\n    let headers = {\n      \"Content-Type\": \"application/json\"\n    };\n    localStorageContrato = LocalStorage[\"a\" /* default */].getItem(\"contratoTitular\");\n    localStorageUsuarioLogueado = LocalStorage[\"a\" /* default */].getItem(\"UsuarioLogueado\");\n    let data = {\n      idNovedad: value.idNovedad || 0,\n      idContrato: localStorageContrato,\n      fechanovedad: moment_default()(value.fechanovedad).format(),\n      postfechadodia: value.postfechadodia || 0,\n      aplicada: value.aplicada || 0,\n      fechan: value.fechan || \"1999-01-01\",\n      usuario: localStorageUsuarioLogueado || \"\",\n      idcobrador: value.idcobrador || \"\",\n      modulo: value.modulo || \"\",\n      transac: value.transac || 0,\n      fechaprogramada: value.fechaprogramada || \"1999-01-01\",\n      posicionx: value.posicionx || \"\",\n      posiciony: value.posiciony || \"\",\n      titular: value.titular || \"\",\n      observaciones: value.observaciones || \"\",\n      idalterna: value.idalterna || 0,\n      subdominio: contractservicios_localStorage.subdomain\n    };\n    return await api[\"a\" /* default */].post(endpoints[\"a\" /* default */].apiContractServicios + \"create/\", data, {\n      headers\n    }).then(response => {\n      return response;\n    }).catch(err => {\n      return err.response;\n    });\n  },\n  edit: async (idNovedadContrato, newData) => {\n    let headers = {\n      \"Content-Type\": \"application/json\"\n    };\n    console.log(\"actualizar novedad\", idNovedadContrato);\n    localStorageContrato = LocalStorage[\"a\" /* default */].getItem(\"contratoTitular\");\n    localStorageUsuarioLogueado = LocalStorage[\"a\" /* default */].getItem(\"UsuarioLogueado\");\n    let data = {\n      idNovedadContrato: newData.idNovedadContrato,\n      idNovedad: newData.idNovedad || 0,\n      idContrato: localStorageContrato,\n      fechanovedad: moment_default()(newData.fechanovedad).format(),\n      postfechadodia: newData.postfechadodia || 0,\n      aplicada: newData.aplicada || 0,\n      fechan: newData.fechan || \"1999-01-01\",\n      usuario: localStorageUsuarioLogueado || \"\",\n      idcobrador: newData.idcobrador || \"\",\n      modulo: newData.modulo || \"\",\n      transac: newData.transac || 0,\n      fechaprogramada: newData.fechaprogramada || \"1999-01-01\",\n      posicionx: newData.posicionx || \"\",\n      posiciony: newData.posiciony || \"\",\n      titular: newData.titular || \"\",\n      observaciones: newData.observaciones || \"\",\n      idalterna: newData.idalterna || 0,\n      subdominio: contractservicios_localStorage.subdomain\n    };\n    return await api[\"a\" /* default */].put(endpoints[\"a\" /* default */].apiContractServicios + \"update/\", data, {\n      headers\n    }).then(response => {\n      return response;\n    }).catch(err => {\n      return err.response;\n    });\n  },\n  get: async idServiciosAdicionales => {\n    const headers = {\n      \"Content-Type\": \"application/json\"\n    };\n    let params = {\n      idServiciosAdicionales: idServiciosAdicionales,\n      subdominio: contractservicios_localStorage.subdomain\n    };\n    return await api[\"a\" /* default */].get(endpoints[\"a\" /* default */].apiContractServicios + \"get/\", {\n      params,\n      headers\n    }).then(response => {\n      return response;\n    }).catch(err => {\n      return err.response;\n    });\n  }\n};\n// EXTERNAL MODULE: ./src/services/notify.js\nvar notify = __webpack_require__(\"4f24\");\n\n// CONCATENATED MODULE: ./node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/@quasar/app/lib/webpack/loader.auto-import-client.js?kebab!./node_modules/vue-loader/lib??vue-loader-options!./src/pages/params/contractadicional/ModalContractAdicional.vue?vue&type=template&id=21d648ce&\nvar ModalContractAdicionalvue_type_template_id_21d648ce_render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('q-dialog',{ref:\"dialog\",on:{\"hide\":_vm.onDialogHide}},[_c('q-card',{staticClass:\"q-dialog-plugin body-cards\"},[_c('q-card-section',[_c('q-form',{ref:\"form_modal\"},[_c('q-select',{attrs:{\"filled\":\"\",\"options\":_vm.serviciosadicionales,\"option-value\":\"idsa\",\"option-label\":\"descripcion\",\"label\":\"* Servicio\",\"emit-value\":\"\",\"map-options\":\"\",\"rules\":_vm.selRules},on:{\"input\":function (val) {\n                  _vm.loadValorServicio(val);\n                }},model:{value:(_vm.idsa),callback:function ($$v) {_vm.idsa=$$v},expression:\"idsa\"}}),_c('q-input',{attrs:{\"type\":\"number\",\"filled\":\"\",\"label\":\"* Valor\",\"lazy-rules\":\"\",\"rules\":_vm.selRules,\"counter\":\"\"},model:{value:(_vm.valor),callback:function ($$v) {_vm.valor=$$v},expression:\"valor\"}}),_c('q-input',{attrs:{\"filled\":\"\",\"option-value\":\"fecha\",\"label\":\"Fecha \",\"clearable\":\"\",\"disable\":\"\"},scopedSlots:_vm._u([{key:\"append\",fn:function(){return [_c('q-icon',{staticClass:\"cursor-pointer\",attrs:{\"name\":\"event\"}},[_c('q-popup-proxy',{ref:\"qDateProxy\",attrs:{\"transition-show\":\"scale\",\"transition-hide\":\"scale\"}},[_c('q-date',{attrs:{\"option-value\":\"fecha\",\"options\":_vm.optionDatePicker,\"mask\":\"YYYY-MM-DD\"},model:{value:(_vm.fecha),callback:function ($$v) {_vm.fecha=$$v},expression:\"fecha\"}},[_c('div',{staticClass:\"row items-center justify-end\"},[_c('q-btn',{directives:[{name:\"close-popup\",rawName:\"v-close-popup\"}],attrs:{\"label\":\"Cerrar\",\"color\":\"primary\",\"flat\":\"\"}})],1)])],1)],1)]},proxy:true}]),model:{value:(_vm.fecha),callback:function ($$v) {_vm.fecha=$$v},expression:\"fecha\"}}),_c('br'),_c('q-select',{attrs:{\"filled\":\"\",\"options\":_vm.vendedores,\"label\":\"* Vendedor\",\"option-value\":\"idPersona\",\"option-label\":function (item) { return ((item.nombre1) + \" \" + (item.apellido1)); },\"emit-value\":\"\",\"map-options\":\"\",\"rules\":_vm.selRules},model:{value:(_vm.idasesor),callback:function ($$v) {_vm.idasesor=$$v},expression:\"idasesor\"}}),_c('q-select',{attrs:{\"filled\":\"\",\"options\":_vm.titularesBenefi,\"label\":\"* Beneficiario\",\"option-value\":\"identificacion\",\"option-label\":function (item) { return ((item.nombre1) + \" \" + (item.nombre2) + \" \" + (item.apellido1) + \" \" + (item.apellido2)); },\"emit-value\":\"\",\"map-options\":\"\",\"rules\":_vm.selRules},model:{value:(_vm.idpersonaBenefi),callback:function ($$v) {_vm.idpersonaBenefi=$$v},expression:\"idpersonaBenefi\"}})],1)],1),_c('q-card-actions',{attrs:{\"align\":\"center\"}},[_c('q-btn',{attrs:{\"color\":\"primary\",\"label\":_vm.textAction},on:{\"click\":_vm.onOKClick}}),_c('q-btn',{attrs:{\"color\":\"primary\",\"flat\":\"\",\"label\":\"Cancelar\"},on:{\"click\":_vm.onCancelClick}})],1)],1)],1)}\nvar ModalContractAdicionalvue_type_template_id_21d648ce_staticRenderFns = []\n\n\n// CONCATENATED MODULE: ./src/pages/params/contractadicional/ModalContractAdicional.vue?vue&type=template&id=21d648ce&\n\n// EXTERNAL MODULE: ./node_modules/core-js/modules/web.dom-collections.iterator.js\nvar web_dom_collections_iterator = __webpack_require__(\"ddb0\");\n\n// EXTERNAL MODULE: ./src/services/http/utilities.js\nvar utilities = __webpack_require__(\"30f7\");\n\n// CONCATENATED MODULE: ./src/services/http/serviceadicional.js\n\n\n;\n\nlet serviceadicional_localStorage = LocalStorage[\"a\" /* default */].getItem(\"pisco-afilweb\");\nlet serviceadicional_localStorageContrato;\nlet serviceadicional_localStorageUsuarioLogueado;\nconst ServiceAdicional = {\n  list: async () => {\n    let headers = {\n      \"Content-Type\": \"application/json\"\n    };\n    serviceadicional_localStorageContrato = LocalStorage[\"a\" /* default */].getItem(\"contratoTitular\");\n    let params = {\n      subdominio: serviceadicional_localStorage.subdomain,\n      idcontrato: serviceadicional_localStorageContrato\n    };\n    return await api[\"a\" /* default */].get(endpoints[\"a\" /* default */].apiServiceadicional + \"list/\", {\n      params,\n      headers\n    }).then(response => {\n      return response;\n    }).catch(err => {\n      return err.response;\n    });\n  },\n  get: async idServiciosAdicionales => {\n    const headers = {\n      \"Content-Type\": \"application/json\"\n    };\n    let params = {\n      idServiciosAdicionales: idServiciosAdicionales,\n      subdominio: serviceadicional_localStorage.subdomain\n    };\n    return await api[\"a\" /* default */].get(endpoints[\"a\" /* default */].apiServiceadicional + \"get/\", {\n      params,\n      headers\n    }).then(response => {\n      return response;\n    }).catch(err => {\n      return err.response;\n    });\n  }\n};\n// EXTERNAL MODULE: ./src/services/http/employees.js\nvar employees = __webpack_require__(\"df2a\");\n\n// CONCATENATED MODULE: ./node_modules/@quasar/app/lib/webpack/loader.transform-quasar-imports.js!./node_modules/babel-loader/lib??ref--2-0!./node_modules/@quasar/app/lib/webpack/loader.auto-import-client.js?kebab!./node_modules/vue-loader/lib??vue-loader-options!./src/pages/params/contractadicional/ModalContractAdicional.vue?vue&type=script&lang=js&\n\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\n\n\n\n;\nlet ModalContractAdicionalvue_type_script_lang_js_localStorageTitular;\nModalContractAdicionalvue_type_script_lang_js_localStorageTitular = LocalStorage[\"a\" /* default */].getItem(\"identificacionTitular\");\n/* harmony default export */ var ModalContractAdicionalvue_type_script_lang_js_ = ({\n  name: \"ModalNoveltyContract\",\n\n  data() {\n    return {\n      idca: 0,\n      idcontrato: \"\",\n      idsadicional: 0,\n      valor: 0,\n      usuario: \"\",\n      fecha: moment_default()().format(\"YYYY-MM-DD\").toString(),\n      servicioadicional: \"\",\n      valoranterior: 0,\n      fecharetiro: moment_default()().format(\"YYYY-MM-DD\").toString(),\n      idasesor: \"01V\",\n      idpersonaBenefi: ModalContractAdicionalvue_type_script_lang_js_localStorageTitular,\n      serviciosadicionales: [],\n      vendedores: [],\n      titularesBenefi: [],\n      idsa: \"\",\n      textRules: [val => val && val.length > 0 || \"Campo Obligatorio (*)\", val => val.length <= 50 || \"Máximo 50 carácteres\"],\n      selRules: [val => !!val || \"Campo Obligatorio\"],\n      numberRules: [val => !isNaN(parseFloat(val)) && val.length >= 0 || \"Campo Obligatorio (*)\"],\n      contrato: {\n        vendedor: {}\n      }\n    };\n  },\n\n  props: {\n    valueField1: {\n      type: Number,\n      required: true\n    },\n    valueField2: {\n      type: String,\n      required: true\n    },\n    valueField3: {\n      type: Number,\n      required: true\n    },\n    valueField4: {\n      type: Number,\n      required: true\n    },\n    valueField5: {\n      type: String,\n      required: true\n    },\n    valueField6: {\n      type: String,\n      required: true\n    },\n    valueField7: {\n      type: String,\n      required: true\n    },\n    valueField8: {\n      type: Number,\n      required: true\n    },\n    valueField9: {\n      type: String,\n      required: true\n    },\n    valueField10: {\n      type: String,\n      required: true\n    },\n    textAction: {\n      type: String,\n      required: true\n    }\n  },\n\n  created() {\n    this.loadData();\n\n    if (this.valueField1 != 0) {\n      this.idca = this.valueField1;\n    }\n\n    this.idcontrato = this.valueField2;\n\n    if (this.valueField3 != 0) {\n      this.idsa = this.valueField3;\n    }\n\n    if (this.valueField4 != 0) {\n      this.valor = this.valueField4;\n    }\n\n    this.idcousuariontrato = this.valueField5;\n\n    if (this.valueField6 != 0 && this.valueField6 != \"1999-01-01T00:00:00\") {\n      this.fecha = moment_default()(this.valueField6).format('YYYY-MM-DD');\n    }\n\n    if (this.valueField7 != \"\") {\n      this.idpersonaBenefi = this.valueField7;\n    } else {\n      console.log(\"idtitular\", ModalContractAdicionalvue_type_script_lang_js_localStorageTitular);\n      this.idpersonaBenefi = ModalContractAdicionalvue_type_script_lang_js_localStorageTitular;\n    }\n\n    if (this.valueField8 != 0) {\n      this.valoranterior = this.valueField8;\n    }\n\n    if (this.valueField9 != 0 && this.valueField9 != \"1999-01-01T00:00:00\") {\n      this.fecharetiro = moment_default()(this.valueField9).format('YYYY-MM-DD');\n    } else {\n      this.fecharetiro = \"\";\n    }\n\n    console.log(\"asesor\", this.valueField10);\n\n    if (this.valueField10 != \"\") {\n      this.idasesor = this.valueField10;\n    } else {\n      this.idasesor = \"01V\";\n    }\n  },\n\n  methods: {\n    show() {\n      /* this.estado = this.valueField4; */\n      this.$refs.dialog.show();\n    },\n\n    hide() {\n      this.$refs.dialog.hide();\n    },\n\n    onDialogHide() {\n      this.$emit(\"hide\");\n    },\n\n    optionDatePicker(date) {\n      return date >= moment_default()().format(\"YYYY/MM/DD\").toString();\n    },\n\n    async loadData() {\n      this.$q.loading.show({\n        message: \"<span class='text-orange text-weight-bold'>Consultando parámetros, por favor espere...</span>\"\n      });\n      await Promise.all([utilities[\"a\" /* Utilities */].serviceadicional(), employees[\"a\" /* Employees */].list('VENDEDOR'), utilities[\"a\" /* Utilities */].titularesBeneficiarios()]).then(result => {\n        console.log(result);\n        this.serviciosadicionales = result[0].data;\n        this.vendedores = result[1].data;\n        this.titularesBenefi = result[2].data;\n      }).catch(err => {\n        console.log({\n          err\n        });\n        this.serviciosadicionales = [];\n        this.vendedores = [];\n        this.titularesBenefi = [];\n      });\n      this.$q.loading.hide();\n    },\n\n    async loadValorServicio(idsa) {\n      console.log(\"llego loadValorServicio\");\n      await ServiceAdicional.get(idsa).then(response => {\n        console.log(response);\n\n        if ((response === null || response === void 0 ? void 0 : response.status) === 200) {\n          this.valor = response.data.valor;\n          console.log(\"el listado del servicio es \", response.data);\n        } else {// NotifyDialog.triggerNegative(\"No fue posible cargar los municipios\");\n        }\n      });\n    },\n\n    onOKClick() {\n      this.$refs.form_modal.validate().then(success => {\n        if (success) {\n          console.log(\"xxx#11\");\n          this.$emit(\"ok\", {\n            idca: this.idca,\n            idcontrato: this.idcontrato,\n            idsadicional: this.idsadicional,\n            valor: this.valor,\n            usuario: this.usuario,\n            fecha: this.fecha,\n            idpersona: this.idpersonaBenefi,\n            valoranterior: this.valoranterior,\n            fecharetiro: this.fecharetiro,\n            idasesor: this.idasesor\n          });\n          this.hide();\n        }\n      });\n    },\n\n    onCancelClick() {\n      this.hide();\n    }\n\n  }\n});\n// CONCATENATED MODULE: ./src/pages/params/contractadicional/ModalContractAdicional.vue?vue&type=script&lang=js&\n /* harmony default export */ var contractadicional_ModalContractAdicionalvue_type_script_lang_js_ = (ModalContractAdicionalvue_type_script_lang_js_); \n// EXTERNAL MODULE: ./node_modules/vue-loader/lib/runtime/componentNormalizer.js\nvar componentNormalizer = __webpack_require__(\"2877\");\n\n// EXTERNAL MODULE: ./node_modules/quasar/src/components/dialog/QDialog.js\nvar QDialog = __webpack_require__(\"24e8\");\n\n// EXTERNAL MODULE: ./node_modules/quasar/src/components/card/QCard.js\nvar QCard = __webpack_require__(\"f09f\");\n\n// EXTERNAL MODULE: ./node_modules/quasar/src/components/card/QCardSection.js\nvar QCardSection = __webpack_require__(\"a370\");\n\n// EXTERNAL MODULE: ./node_modules/quasar/src/components/form/QForm.js\nvar QForm = __webpack_require__(\"0378\");\n\n// EXTERNAL MODULE: ./node_modules/quasar/src/components/select/QSelect.js + 1 modules\nvar QSelect = __webpack_require__(\"ddd8\");\n\n// EXTERNAL MODULE: ./node_modules/quasar/src/components/input/QInput.js + 2 modules\nvar QInput = __webpack_require__(\"27f9\");\n\n// EXTERNAL MODULE: ./node_modules/quasar/src/components/icon/QIcon.js\nvar QIcon = __webpack_require__(\"0016\");\n\n// EXTERNAL MODULE: ./node_modules/quasar/src/components/popup-proxy/QPopupProxy.js\nvar QPopupProxy = __webpack_require__(\"7cbe\");\n\n// EXTERNAL MODULE: ./node_modules/quasar/src/components/date/QDate.js + 3 modules\nvar QDate = __webpack_require__(\"52ee\");\n\n// EXTERNAL MODULE: ./node_modules/quasar/src/components/btn/QBtn.js + 1 modules\nvar QBtn = __webpack_require__(\"9c40\");\n\n// EXTERNAL MODULE: ./node_modules/quasar/src/components/card/QCardActions.js\nvar QCardActions = __webpack_require__(\"4b7e\");\n\n// EXTERNAL MODULE: ./node_modules/quasar/src/directives/ClosePopup.js\nvar ClosePopup = __webpack_require__(\"7f67\");\n\n// EXTERNAL MODULE: ./node_modules/@quasar/app/lib/webpack/runtime.auto-import.js\nvar runtime_auto_import = __webpack_require__(\"eebe\");\nvar runtime_auto_import_default = /*#__PURE__*/__webpack_require__.n(runtime_auto_import);\n\n// CONCATENATED MODULE: ./src/pages/params/contractadicional/ModalContractAdicional.vue\n\n\n\n\n\n/* normalize component */\n\nvar component = Object(componentNormalizer[\"a\" /* default */])(\n  contractadicional_ModalContractAdicionalvue_type_script_lang_js_,\n  ModalContractAdicionalvue_type_template_id_21d648ce_render,\n  ModalContractAdicionalvue_type_template_id_21d648ce_staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\n/* harmony default export */ var ModalContractAdicional = (component.exports);\n\n\n\n\n\n\n\n\n\n\n\n\nruntime_auto_import_default()(component, 'components', {QDialog: QDialog[\"a\" /* default */],QCard: QCard[\"a\" /* default */],QCardSection: QCardSection[\"a\" /* default */],QForm: QForm[\"a\" /* default */],QSelect: QSelect[\"a\" /* default */],QInput: QInput[\"a\" /* default */],QIcon: QIcon[\"a\" /* default */],QPopupProxy: QPopupProxy[\"a\" /* default */],QDate: QDate[\"a\" /* default */],QBtn: QBtn[\"a\" /* default */],QCardActions: QCardActions[\"a\" /* default */]});runtime_auto_import_default()(component, 'directives', {ClosePopup: ClosePopup[\"a\" /* default */]});\n\n// CONCATENATED MODULE: ./node_modules/@quasar/app/lib/webpack/loader.transform-quasar-imports.js!./node_modules/babel-loader/lib??ref--2-0!./node_modules/@quasar/app/lib/webpack/loader.auto-import-client.js?kebab!./node_modules/vue-loader/lib??vue-loader-options!./src/pages/params/contractadicional/Index.vue?vue&type=script&lang=js&\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\n\n\n;\n\n\n\nlet Indexvue_type_script_lang_js_localStorageContrato;\n/* harmony default export */ var Indexvue_type_script_lang_js_ = ({\n  name: \"ModalContractAdicional\",\n\n  data() {\n    return {\n      loadingTable: false,\n      pagination: [5, 10, 0],\n      viewColumns: [\"actions\", \"servicioadicional\", \"valor\", \"idpersona\", \"usuario\", \"fecha\", \"valoranterior\", \"fecharetiro\", \"asesor\"],\n      columns: [{\n        name: \"actions\",\n        label: \"\",\n        field: \"\",\n        align: \"center\",\n        icon: \"delete\"\n      }, {\n        name: \"servicioadicional\",\n        required: false,\n        label: \"Servicio Adicional\",\n        field: \"servicioadicional\",\n        sortable: true,\n        align: \"left\"\n      }, {\n        name: \"valor\",\n        required: false,\n        label: \"Valor\",\n        field: \"valor\",\n        sortable: true,\n        align: \"left\"\n      }, {\n        name: \"idpersona\",\n        required: false,\n        label: \"Identifiacion\",\n        field: \"idpersona\",\n        sortable: true,\n        align: \"left\"\n      }, {\n        name: \"usuario\",\n        required: false,\n        label: \"Usuario\",\n        field: \"usuario\",\n        sortable: true,\n        align: \"left\"\n      }, {\n        name: \"fecha\",\n        required: false,\n        label: \"Fecha\",\n        field: \"fecha\",\n        sortable: true,\n        align: \"left\"\n      }, {\n        name: \"valoranterior\",\n        required: false,\n        label: \"Valor Anterior\",\n        field: \"valoranterior\",\n        sortable: true,\n        align: \"left\"\n      }, {\n        name: \"fecharetiro\",\n        required: false,\n        label: \"Fecha Retiro\",\n        field: \"fecharetiro\",\n        sortable: true,\n        align: \"left\"\n      }, {\n        name: \"asesor\",\n        required: false,\n        label: \"Asesor\",\n        field: \"asesor\",\n        sortable: true,\n        align: \"left\"\n      }],\n      dataTable: [],\n      fabAction: false\n    };\n  },\n\n  beforeMount() {\n    this.loadData();\n  },\n\n  methods: {\n    editItem(props) {\n      this.fabAction = false;\n      this.saveOrEditItem(props.row);\n    },\n\n    addItem() {\n      this.fabAction = true;\n      this.saveOrEditItem(\"\");\n    },\n\n    saveOrEditItem(valueItem) {\n      this.$q.dialog({\n        component: ModalContractAdicional,\n        valueField1: this.fabAction ? 0 : valueItem.idca,\n        valueField2: this.fabAction ? \"\" : valueItem.idcontrato,\n        valueField3: this.fabAction ? 0 : valueItem.idsadicional,\n        valueField4: this.fabAction ? 0 : valueItem.valor,\n        valueField5: this.fabAction ? \"\" : valueItem.usuario,\n        valueField6: this.fabAction ? \"\" : valueItem.fecha,\n        valueField7: this.fabAction ? \"\" : valueItem.idpersona,\n        valueField8: this.fabAction ? 0 : valueItem.valoranterior,\n        valueField9: this.fabAction ? \"\" : valueItem.fecharetiro,\n        valueField10: this.fabAction ? \"\" : valueItem.idasesor,\n        parent: this,\n        textAction: this.fabAction ? \"Guardar\" : \"Modificar\"\n      }).onOk(value => {\n        if (this.fabAction) {\n          this.addRegister(value);\n        } else {\n          this.editRegister(value, valueItem.id);\n        }\n      }).onCancel(() => {// console.log(\"Cancel\");\n      }).onDismiss(() => {// console.log(\"Called on OK or Cancel\");\n      });\n    },\n\n    async addRegister(dataValue) {\n      await Contractservicios.create(dataValue).then(response => {\n        console.log(response);\n\n        if ((response === null || response === void 0 ? void 0 : response.status) === 200) {\n          notify[\"a\" /* default */].triggerPositive(\"Registro almacenado correctamente\");\n          this.loadData();\n        } else {\n          notify[\"a\" /* default */].triggerNegative(\"El registro no pudo ser almacenado\");\n        }\n      });\n    },\n\n    async editRegister(dataValue, idValue) {\n      console.log(\"actu servicio\", dataValue, idValue);\n      await Contractservicios.edit(idValue, dataValue).then(response => {\n        console.log(response);\n\n        if ((response === null || response === void 0 ? void 0 : response.status) === 200) {\n          notify[\"a\" /* default */].triggerPositive(\"Registro modificado correctamente\");\n          this.loadData();\n        } else {\n          notify[\"a\" /* default */].triggerNegative(\"El registro no pudo ser modificado\");\n        }\n      });\n    },\n\n    async loadData() {\n      this.loadingTable = true;\n      Indexvue_type_script_lang_js_localStorageContrato = LocalStorage[\"a\" /* default */].getItem(\"contratoTitular\");\n      console.log(\"sin servicio \", Indexvue_type_script_lang_js_localStorageContrato);\n\n      if (Indexvue_type_script_lang_js_localStorageContrato == null) {\n        //se redirecciona a la busqueda del contrato\n        localStorage.setItem(\"buscarServicio\", \"Si\");\n        this.$router.push({\n          path: \"/search\"\n        });\n      } else {\n        this.loadingTable = true;\n        localStorage.setItem(\"buscarServicio\", \"No\");\n        await Contractservicios.list().then(response => {\n          if ((response === null || response === void 0 ? void 0 : response.status) === 200) {\n            for (let index in response.data) {\n              response.data[index].fecha = moment_default()(response.data[index].fecha).format('YYYY-MMM-DD');\n            }\n\n            this.dataTable = response.data;\n          }\n        });\n      }\n\n      this.loadingTable = false;\n    }\n\n  },\n  computed: {\n    isMobile: {\n      get() {\n        return this.$store.state.platform_mobile.isMobile;\n      }\n\n    }\n  }\n});\n// CONCATENATED MODULE: ./src/pages/params/contractadicional/Index.vue?vue&type=script&lang=js&\n /* harmony default export */ var contractadicional_Indexvue_type_script_lang_js_ = (Indexvue_type_script_lang_js_); \n// EXTERNAL MODULE: ./node_modules/quasar/src/components/table/QTable.js + 17 modules\nvar QTable = __webpack_require__(\"eaac\");\n\n// EXTERNAL MODULE: ./node_modules/quasar/src/components/table/QTh.js\nvar QTh = __webpack_require__(\"357e\");\n\n// EXTERNAL MODULE: ./node_modules/quasar/src/components/table/QTd.js\nvar QTd = __webpack_require__(\"db86\");\n\n// EXTERNAL MODULE: ./node_modules/quasar/src/components/page-sticky/QPageSticky.js\nvar QPageSticky = __webpack_require__(\"de5e\");\n\n// CONCATENATED MODULE: ./src/pages/params/contractadicional/Index.vue\n\n\n\n\n\n/* normalize component */\n\nvar Index_component = Object(componentNormalizer[\"a\" /* default */])(\n  contractadicional_Indexvue_type_script_lang_js_,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\n/* harmony default export */ var Index = __webpack_exports__[\"default\"] = (Index_component.exports);\n\n\n\n\n\n\n\nruntime_auto_import_default()(Index_component, 'components', {QTable: QTable[\"a\" /* default */],QBtn: QBtn[\"a\" /* default */],QTh: QTh[\"a\" /* default */],QIcon: QIcon[\"a\" /* default */],QTd: QTd[\"a\" /* default */],QPageSticky: QPageSticky[\"a\" /* default */]});\n\n\n/***/ }),\n\n/***/ \"df2a\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"a\", function() { return Employees; });\n/* harmony import */ var _api__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(\"7424\");\n/* harmony import */ var _endpoints__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(\"7cf4\");\n/* harmony import */ var quasar_src_plugins_LocalStorage_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(\"18d6\");\n\n\n;\nlet localStorage = quasar_src_plugins_LocalStorage_js__WEBPACK_IMPORTED_MODULE_2__[/* default */ \"a\"].getItem(\"pisco-afilweb\");\nconst Employees = {\n  list: async type => {\n    let headers = {\n      \"Content-Type\": \"application/json\"\n    };\n    let params = {\n      tipoEmpleado: type,\n      subdominio: localStorage.subdomain\n    };\n    return await _api__WEBPACK_IMPORTED_MODULE_0__[/* default */ \"a\"].get(_endpoints__WEBPACK_IMPORTED_MODULE_1__[/* default */ \"a\"].apiEmpleado + \"list/\", {\n      params,\n      headers\n    }).then(response => {\n      // console.log(response)\n      return response;\n    }).catch(err => {\n      return err.response;\n    });\n  },\n  create: async value => {\n    let headers = {\n      \"Content-Type\": \"application/json\"\n    };\n    let data = {\n      idPersona: value.idPersona,\n      nombre1: value.nombre1,\n      nombre2: value.nombre2 || \"\",\n      apellido1: value.apellido1,\n      apellido2: value.apellido2 || \"\",\n      telefono1: value.telefono1,\n      telefono2: value.telefono02 || \"\",\n      tipoEmpleado: value.tipoEmpleado,\n      subdominio: localStorage.subdomain\n    };\n    return await _api__WEBPACK_IMPORTED_MODULE_0__[/* default */ \"a\"].post(_endpoints__WEBPACK_IMPORTED_MODULE_1__[/* default */ \"a\"].apiEmpleado + \"create/\", data, {\n      headers\n    }).then(response => {\n      return response;\n    }).catch(err => {\n      return err.response;\n    });\n  },\n  edit: async (id, newData) => {\n    let headers = {\n      \"Content-Type\": \"application/json\"\n    };\n    let data = {\n      id: id,\n      idPersona: newData.idPersona,\n      nombre1: newData.nombre1,\n      nombre2: newData.nombre2 || \"\",\n      apellido1: newData.apellido1,\n      apellido2: newData.apellido2 || \"\",\n      telefono1: newData.telefono1,\n      telefono2: newData.telefono2 || \"\",\n      tipoEmpleado: newData.tipoEmpleado,\n      estado: newData.estado ? 0 : 1,\n      subdominio: localStorage.subdomain\n    };\n    return await _api__WEBPACK_IMPORTED_MODULE_0__[/* default */ \"a\"].put(_endpoints__WEBPACK_IMPORTED_MODULE_1__[/* default */ \"a\"].apiEmpleado + \"update/\", data, {\n      headers\n    }).then(response => {\n      return response;\n    }).catch(err => {\n      return err.response;\n    });\n  }\n};\n\n/***/ })\n\n}]);","inputSourceMap":null}