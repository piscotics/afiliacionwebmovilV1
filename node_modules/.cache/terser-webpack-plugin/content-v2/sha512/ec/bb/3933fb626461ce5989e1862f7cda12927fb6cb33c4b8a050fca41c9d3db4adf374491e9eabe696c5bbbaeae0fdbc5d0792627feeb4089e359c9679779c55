{"code":"(window[\"webpackJsonp\"]=window[\"webpackJsonp\"]||[]).push([[6],{\"30f7\":function(a,e,t){\"use strict\";t.d(e,\"a\",(function(){return l}));var o=t(\"7424\"),i=t(\"7cf4\"),s=t(\"18d6\");let n=s[\"a\"].getItem(\"pisco-afilweb\");const l={departments:async()=>{let a={\"Content-Type\":\"application/json\"},e={subdominio:n.subdomain};return await o[\"a\"].get(i[\"a\"].apiDepartamento+\"list/\",{params:e,headers:a}).then((a=>a)).catch((a=>a.response))},cities:async a=>{const e={\"Content-Type\":\"application/json\"};let t={codDepartamento:a,subdominio:n.subdomain};return await o[\"a\"].get(i[\"a\"].apiDepartamento+\"cities/\",{params:t,headers:e}).then((a=>a)).catch((a=>a.response))},paymentMethods:async()=>{let a={\"Content-Type\":\"application/json\"},e={subdominio:n.subdomain};return await o[\"a\"].get(i[\"a\"].apiFormaPago+\"list/\",{params:e,headers:a}).then((a=>a)).catch((a=>a.response))},paymentTypes:async()=>{console.log(\"llego a cargar tipos pagos\");let a={\"Content-Type\":\"application/json\"},e={subdominio:n.subdomain};return await o[\"a\"].get(i[\"a\"].apiTipoPago+\"list/\",{params:e,headers:a}).then((a=>a)).catch((a=>a.response))},cash:async()=>{let a={\"Content-Type\":\"application/json\"},e={subdominio:n.subdomain};return await o[\"a\"].get(i[\"a\"].apiCaja+\"list/\",{params:e,headers:a}).then((a=>a)).catch((a=>a.response))}}},b0ae:function(a,e,t){\"use strict\";t.r(e);var o=function(){var a=this,e=a.$createElement,t=a._self._c||e;return t(\"div\",{staticClass:\"q-pa-md full-width row justify-center content-center\"},[t(\"div\",{staticStyle:{\"min-width\":\"400px\",\"max-width\":\"700px\",padding:\"0 20px\"}},[t(\"q-table\",{attrs:{title:\"Pagos\",\"rows-per-page-label\":\"Items\",separator:\"cell\",data:a.dataTable,columns:a.columns,\"visible-columns\":a.viewColumns,\"row-key\":\"dataTable.id\",\"rows-per-page-options\":a.pagination,loading:a.loadingTable},scopedSlots:a._u([a.isMobile?null:{key:\"top-right\",fn:function(){return[t(\"q-btn\",{attrs:{icon:\"add\",label:\"Agregar Nuevo\",color:\"primary\"},on:{click:a.addItem}})]},proxy:!0},{key:\"header-cell-actions\",fn:function(e){return[t(\"q-th\",{attrs:{props:e}},[t(\"q-icon\",{attrs:{name:\"view_headline\",size:\"1.5em\"}}),a._v(\"\\n          \"+a._s(e.col.label)+\"\\n        \")],1)]}},{key:\"body-cell-actions\",fn:function(e){return[t(\"q-td\",{staticStyle:{width:\"50px\"},attrs:{props:e}},[t(\"q-btn\",{attrs:{dense:\"\",round:\"\",flat:\"\",color:\"positive\",icon:\"edit\"},on:{click:function(t){return a.editItem(e)}}})],1)]}},{key:\"body-cell-anulado\",fn:function(e){return[t(\"q-td\",{attrs:{props:e}},[a._v(\"\\n          \"+a._s(a._f(\"FilterState\")(e.row.anulado))+\"\\n        \")])]}},{key:\"no-data\",fn:function(){return[t(\"div\",{staticClass:\"full-width row flex-center q-gutter-sm\"},[t(\"span\",[a._v(\" No hay datos . . . crea el primer registro! \")])])]},proxy:!0}],null,!0)})],1),a.isMobile?t(\"div\",{staticClass:\"column items-center\",staticStyle:{\"padding-bottom\":\"0px\"}},[t(\"q-page-sticky\",{attrs:{position:\"bottom-left\",offset:[18,50]}},[t(\"q-btn\",{attrs:{fab:\"\",icon:\"add\",color:\"primary\"},on:{click:a.addItem}})],1)],1):a._e()])},i=[],s=t(\"7424\"),n=t(\"7cf4\"),l=t(\"18d6\"),r=t(\"c1df\"),c=t.n(r);let d=l[\"a\"].getItem(\"pisco-afilweb\"),u=l[\"a\"].getItem(\"identificacionTitular\"),p=l[\"a\"].getItem(\"contratoTitular\");const b={list:async()=>{let a={\"Content-Type\":\"application/json\"},e={subdominio:d.subdomain,identificacion:u,idcontrato:p};return await s[\"a\"].get(n[\"a\"].apiPagos+\"list/\",{params:e,headers:a}).then((a=>(console.log(\"los pagos son\",a),a))).catch((a=>a.response))},create:async a=>{console.log(\"el pago a crear es\",JSON.stringify(a)),console.log(\"el titular a crear es\",JSON.stringify(u));const e={\"Content-Type\":\"application/json\"};let t={nrorecibo:a.nrorecibo,fecha:c()(a.fecha).format(),valor:a.valor,descuento:a.descuento,anulado:!!a.anulado,idcobrador:a.idcobrador,cobrador:a.cobrador,observaciones:a.observaciones,cuotadesde:c()(a.cuotadesde).format(),cuotahasta:c()(a.cuotahasta).format(),nrofactura:a.nrofactura,idcaja:a.idcaja,caja:a.caja,idtipopago:a.idtipopago,tipopago:a.tipopago,identificaciontitular:u,contrato:p,usuario:a.usuario,nota1:a.nota1,nota2:a.nota2,subdominio:d.subdomain};return console.log(\"el pago a guardar es\",JSON.stringify(t)),await s[\"a\"].post(n[\"a\"].apiPagos+\"create/\",t,{headers:e}).then((a=>a)).catch((a=>a.response))},edit:async(a,e)=>{console.log(\"el pago a editar es\",JSON.stringify(e));let t={\"Content-Type\":\"application/json\"},o={nrorecibo:e.nrorecibo,fecha:c()(e.fecha).format(\"YYYY-MM-DD\"),valor:e.valor,descuento:e.descuento,anulado:!!e.anulado,idcobrador:e.idcobrador,cobrador:e.cobrador,observaciones:e.observaciones,cuotadesde:c()(e.cuotadesde).format(\"YYYY-MM-DD\"),cuotahasta:c()(e.cuotahasta).format(\"YYYY-MM-DD\"),nrofactura:e.nrofactura,idcaja:e.idcaja,caja:e.caja,idtipopago:e.idtipopago,tipopago:e.tipopago,identificaciontitular:u,contrato:p,usuario:e.usuario,nota1:e.nota1,nota2:e.nota2,subdominio:d.subdomain};return console.log(\"el pago es\",JSON.stringify(o)),await s[\"a\"].put(n[\"a\"].apiPagos+\"update/\",o,{headers:t}).then((a=>(console.log(\"la respuesta del pago es\",a),a))).catch((a=>(console.log({err:a}),a.response)))}};var h=t(\"4f24\"),f=function(){var a=this,e=a.$createElement,t=a._self._c||e;return t(\"q-dialog\",{ref:\"dialog\",on:{hide:a.onDialogHide}},[t(\"q-card\",{staticClass:\"q-dialog-plugin body-cards\"},[t(\"q-card-section\",[t(\"q-form\",{ref:\"form_modal\"},[t(\"q-input\",{attrs:{type:\"text\",filled:\"\",label:\"N. Recibo\",\"lazy-rules\":\"\",rules:a.textRules,counter:\"\"},model:{value:a.nrorecibo,callback:function(e){a.nrorecibo=e},expression:\"nrorecibo\"}}),t(\"q-input\",{attrs:{filled:\"\",mask:\"date\",label:\"Fecha\",clearable:\"\"},scopedSlots:a._u([{key:\"append\",fn:function(){return[t(\"q-icon\",{staticClass:\"cursor-pointer\",attrs:{name:\"event\"}},[t(\"q-popup-proxy\",{ref:\"qDateProxy\",attrs:{\"transition-show\":\"scale\",\"transition-hide\":\"scale\"}},[t(\"q-date\",{attrs:{options:a.optionDatePicker,mask:\"YYYY-MM-DD\"},model:{value:a.fecha,callback:function(e){a.fecha=e},expression:\"fecha\"}},[t(\"div\",{staticClass:\"row items-center justify-end\"},[t(\"q-btn\",{directives:[{name:\"close-popup\",rawName:\"v-close-popup\"}],attrs:{label:\"Cerrar\",color:\"primary\",flat:\"\"}})],1)])],1)],1)]},proxy:!0}]),model:{value:a.fecha,callback:function(e){a.fecha=e},expression:\"fecha\"}}),t(\"br\"),t(\"q-input\",{attrs:{type:\"number\",filled:\"\",label:\"Valor\",\"lazy-rules\":\"\",rules:a.selRules,counter:\"\"},model:{value:a.valor,callback:function(e){a.valor=e},expression:\"valor\"}}),t(\"q-input\",{attrs:{type:\"number\",filled:\"\",label:\"Descuento\",\"lazy-rules\":\"\",counter:\"\"},model:{value:a.descuento,callback:function(e){a.descuento=e},expression:\"descuento\"}}),t(\"q-select\",{attrs:{filled:\"\",options:a.cobradores,\"option-value\":\"idPersona\",\"option-label\":function(a){return a.nombre1+\" \"+a.apellido1},label:\"* Cobrador\",\"emit-value\":\"\",\"map-options\":\"\",rules:a.selRules},model:{value:a.idcobrador,callback:function(e){a.idcobrador=e},expression:\"idcobrador\"}}),t(\"q-input\",{attrs:{filled:\"\",mask:\"date\",label:\"Cuota Desde\",clearable:\"\"},scopedSlots:a._u([{key:\"append\",fn:function(){return[t(\"q-icon\",{staticClass:\"cursor-pointer\",attrs:{name:\"event\"}},[t(\"q-popup-proxy\",{ref:\"qDateProxy\",attrs:{\"transition-show\":\"scale\",\"transition-hide\":\"scale\"}},[t(\"q-date\",{attrs:{options:a.optionDatePicker,mask:\"YYYY-MM-DD\"},model:{value:a.cuotadesde,callback:function(e){a.cuotadesde=e},expression:\"cuotadesde\"}},[t(\"div\",{staticClass:\"row items-center justify-end\"},[t(\"q-btn\",{directives:[{name:\"close-popup\",rawName:\"v-close-popup\"}],attrs:{label:\"Cerrar\",color:\"primary\",flat:\"\"}})],1)])],1)],1)]},proxy:!0}]),model:{value:a.cuotadesde,callback:function(e){a.cuotadesde=e},expression:\"cuotadesde\"}}),t(\"br\"),t(\"q-input\",{attrs:{filled:\"\",mask:\"date\",label:\"Cuota Hasta\",clearable:\"\"},scopedSlots:a._u([{key:\"append\",fn:function(){return[t(\"q-icon\",{staticClass:\"cursor-pointer\",attrs:{name:\"event\"}},[t(\"q-popup-proxy\",{ref:\"qDateProxy\",attrs:{\"transition-show\":\"scale\",\"transition-hide\":\"scale\"}},[t(\"q-date\",{attrs:{options:a.optionDatePicker,mask:\"YYYY-MM-DD\"},model:{value:a.cuotahasta,callback:function(e){a.cuotahasta=e},expression:\"cuotahasta\"}},[t(\"div\",{staticClass:\"row items-center justify-end\"},[t(\"q-btn\",{directives:[{name:\"close-popup\",rawName:\"v-close-popup\"}],attrs:{label:\"Cerrar\",color:\"primary\",flat:\"\"}})],1)])],1)],1)]},proxy:!0}]),model:{value:a.cuotahasta,callback:function(e){a.cuotahasta=e},expression:\"cuotahasta\"}}),t(\"br\"),t(\"q-input\",{attrs:{type:\"text\",filled:\"\",label:\"N. Factura\",\"lazy-rules\":\"\",counter:\"\"},model:{value:a.nrofactura,callback:function(e){a.nrofactura=e},expression:\"nrofactura\"}}),t(\"q-select\",{attrs:{filled:\"\",options:a.cajas,\"option-value\":\"idCaja\",\"option-label\":function(a){return a.caja+\" \"},label:\"* Caja\",\"emit-value\":\"\",\"map-options\":\"\",rules:a.selRules},model:{value:a.idcaja,callback:function(e){a.idcaja=e},expression:\"idcaja\"}}),t(\"q-select\",{attrs:{filled:\"\",options:a.tipopagos,\"option-value\":\"idTipoPago\",\"option-label\":function(a){return a.tipoPago+\" \"},label:\"* Tipo Pago\",\"emit-value\":\"\",\"map-options\":\"\",rules:a.selRules},model:{value:a.idtipopago,callback:function(e){a.idtipopago=e},expression:\"idtipopago\"}}),t(\"q-input\",{attrs:{type:\"text\",filled:\"\",label:\"Observaciones\",\"lazy-rules\":\"\",counter:\"\"},model:{value:a.observaciones,callback:function(e){a.observaciones=e},expression:\"observaciones\"}}),t(\"q-toggle\",{attrs:{\"checked-icon\":\"check\",color:\"red\",\"unchecked-icon\":\"clear\",value:a.anulado,label:\"Anulado \"+a.anuladoText},model:{value:a.anulado,callback:function(e){a.anulado=e},expression:\"anulado\"}})],1)],1),t(\"q-card-actions\",{attrs:{align:\"center\"}},[t(\"q-btn\",{attrs:{color:\"primary\",label:a.textAction},on:{click:a.onOKClick}}),t(\"q-btn\",{attrs:{color:\"primary\",flat:\"\",label:\"Cancelar\"},on:{click:a.onCancelClick}})],1)],1)],1)},m=[],g=(t(\"ddb0\"),t(\"30f7\")),v=t(\"df2a\"),y={name:\"ModalPayments\",data(){return{nrorecibo:\"\",valor:0,descuento:0,fecha:\"\",cuotadesde:\"\",cuotahasta:\"\",anulado:!1,anuladoText:\"No\",cobradores:[],cajas:[],nrofactura:\"\",observaciones:\"\",idcaja:\"\",idtipopago:\"\",tipopagos:[],idcobrador:\"\",textRules:[a=>a&&a.length>0||\"Campo Obligatorio (*)\",a=>a.length<=50||\"Máximo 50 carácteres\"],selRules:[a=>!!a||\"Campo Obligatorio\"],numberRules:[a=>!isNaN(parseFloat(a))&&a.length>=0||\"Campo Obligatorio (*)\"]}},props:{valueField1:{type:String,required:!0},valueField2:{type:String,required:!0},valueField3:{type:Number,required:!0},valueField4:{type:Number,required:!1},valueField5:{type:Boolean,required:!0},valueField6:{type:String,required:!0},valueField7:{type:String,required:!1},valueField8:{type:String,required:!0},valueField9:{type:String,required:!0},valueField10:{type:String,required:!1},valueField11:{type:Number,required:!0},valueField12:{type:Number,required:!0},valueField13:{type:String,required:!0},valueField14:{type:String,required:!0},textAction:{type:String,required:!0}},created(){this.loadData(),console.log(\"cargar\",this.valueField12),this.nrorecibo=this.valueField1,this.fecha=c()(this.valueField2).format(\"YYYY-MM-DD\"),this.valor=this.valueField3,this.descuento=this.valueField4,this.anulado=this.valueField5,this.idcobrador=this.valueField6,this.observaciones=this.valueField7,this.cuotadesde=this.valueField8,this.cuotahasta=this.valueField9,this.nrofactura=this.valueField10,this.idcaja=this.valueField11,this.idtipopago=this.valueField12,this.identificaciontitular=this.valueField13,this.contrato=this.valueField14},methods:{show(){this.loadData(),this.$refs.dialog.show()},hide(){this.$refs.dialog.hide()},optionDatePicker(a){return a>=\"1900/01/01\"&&a<=c()().format(\"YYYY/MM/DD\").toString()},onDialogHide(){this.$emit(\"hide\")},async loadData(){this.$q.loading.show({message:\"<span class='text-orange text-weight-bold'>Consultando parámetros, por favor espere...</span>\"}),await Promise.all([g[\"a\"].paymentTypes(),g[\"a\"].cash(),v[\"a\"].list(\"COBRADOR\")]).then((a=>{console.log(a),this.tipopagos=a[0].data,this.cajas=a[1].data,this.cobradores=a[2].data})).catch((a=>{console.log({err:a}),this.tipopagos=[],this.cajas=[],this.cobradores=[]})),this.$q.loading.hide()},onOKClick(){this.$refs.form_modal.validate().then((a=>{a&&(console.log(\"success\",a),this.$emit(\"ok\",{nrorecibo:this.nrorecibo,fecha:c()(this.fecha).format(\"YYYY-MM-DD\"),valor:this.valor,descuento:this.descuento,anulado:this.anulado,idcobrador:this.idcobrador,cobrador:\"\",cuotadesde:this.cuotadesde,cuotahasta:this.cuotahasta,nrofactura:this.nrofactura,idcaja:this.idcaja,caja:\"\",idtipopago:this.idtipopago,tipopago:\"\",identificaciontitular:this.identificaciontitular,contrato:this.contrato,observaciones:this.observaciones,usuario:\"\",nota1:\"\",nota2:\"\"}),this.hide())}))},onCancelClick(){this.hide()}},watch:{anulado(){this.anuladoText=this.anulado?\"Si\":\"No\"}}},q=y,w=t(\"2877\"),k=t(\"24e8\"),C=t(\"f09f\"),x=t(\"a370\"),F=t(\"0378\"),D=t(\"27f9\"),j=t(\"0016\"),Y=t(\"7cbe\"),T=t(\"52ee\"),P=t(\"9c40\"),S=t(\"ddd8\"),A=t(\"9564\"),M=t(\"4b7e\"),N=t(\"7f67\"),O=t(\"eebe\"),_=t.n(O),Q=Object(w[\"a\"])(q,f,m,!1,null,null,null),R=Q.exports;_()(Q,\"components\",{QDialog:k[\"a\"],QCard:C[\"a\"],QCardSection:x[\"a\"],QForm:F[\"a\"],QInput:D[\"a\"],QIcon:j[\"a\"],QPopupProxy:Y[\"a\"],QDate:T[\"a\"],QBtn:P[\"a\"],QSelect:S[\"a\"],QToggle:A[\"a\"],QCardActions:M[\"a\"]}),_()(Q,\"directives\",{ClosePopup:N[\"a\"]});var I={name:\"Payments\",data(){return{loadingTable:!1,pagination:[5,10,0],viewColumns:[\"actions\",\"nrorecibo\",\"fecha\",\"cuotadesde\",\"cuotahasta\",\"valor\",\"anulado\"],columns:[{name:\"actions\",label:\"\",field:\"\",align:\"center\",icon:\"delete\"},{name:\"nrorecibo\",required:!1,label:\"No. Recibo\",field:\"nrorecibo\",sortable:!0,align:\"left\"},{name:\"fecha\",required:!1,label:\"Fecha Pago\",field:\"fecha\",sortable:!0,align:\"left\"},{name:\"cuotadesde\",required:!1,label:\"Cuota Desde\",field:\"cuotadesde\",sortable:!0,align:\"left\"},{name:\"cuotahasta\",required:!1,label:\"Cuota Hasta\",field:\"cuotahasta\",sortable:!0,align:\"left\"},{name:\"valor\",required:!1,label:\"Valor\",field:\"valor\",sortable:!0,align:\"right\"},{name:\"anulado\",required:!1,label:\"Anulado\",field:\"anulado\",sortable:!0,align:\"left\"}],dataTable:[],fabAction:!1}},beforeMount(){this.loadData()},methods:{editItem(a){this.fabAction=!1,this.saveOrEditItem(a.row)},addItem(){this.fabAction=!0,this.saveOrEditItem(\"\")},saveOrEditItem(a){console.log(\"los datos delpago son \",a),this.$q.dialog({component:R,valueField1:this.fabAction?\"\":a.nrorecibo,valueField2:this.fabAction?\"\":a.fecha,valueField3:this.fabAction?0:a.valor,valueField4:this.fabAction?0:a.descuento,valueField5:!this.fabAction&&Boolean(a.anulado),valueField6:this.fabAction?\"\":a.idcobrador,valueField7:this.fabAction?\"\":a.observaciones,valueField8:this.fabAction?\"\":a.cuotadesde,valueField9:this.fabAction?\"\":a.cuotahasta,valueField10:this.fabAction?\"\":a.nrofactura,valueField11:this.fabAction?0:a.idcaja,valueField12:this.fabAction?0:a.idtipopago,valueField13:this.fabAction?\"\":a.identificaciontitular,valueField14:this.fabAction?\"\":a.contrato,parent:this,textAction:this.fabAction?\"Guardar\":\"Modificar\"}).onOk((e=>{this.fabAction?this.addRegister(e):this.editRegister(e,a.id)})).onCancel((()=>{})).onDismiss((()=>{}))},async addRegister(a){console.log(\"los datos del pago son\",a),await b.create(a).then((a=>{console.log(a),200===(null===a||void 0===a?void 0:a.status)?(h[\"a\"].triggerPositive(\"Registro almacenado correctamente\"),this.loadData()):h[\"a\"].triggerNegative(\"El registro no pudo ser almacenado\")}))},async editRegister(a,e){console.log(\"los datos del a editar pago son\",a),await b.edit(e,a).then((a=>{console.log(a),200===(null===a||void 0===a?void 0:a.status)?(h[\"a\"].triggerPositive(\"Registro modificado correctamente\"),this.loadData()):h[\"a\"].triggerNegative(\"El registro no pudo ser modificado\")}))},async loadData(){this.loadingTable=!0,await b.list().then((a=>{200===(null===a||void 0===a?void 0:a.status)&&(this.dataTable=a.data,console.log(\"pagos\",a.data))})),this.loadingTable=!1}},computed:{isMobile:{get(){return this.$store.state.platform_mobile.isMobile}}}},E=I,$=t(\"eaac\"),J=t(\"357e\"),z=t(\"db86\"),B=t(\"de5e\"),H=Object(w[\"a\"])(E,o,i,!1,null,null,null);e[\"default\"]=H.exports;_()(H,\"components\",{QTable:$[\"a\"],QBtn:P[\"a\"],QTh:J[\"a\"],QIcon:j[\"a\"],QTd:z[\"a\"],QPageSticky:B[\"a\"]})},df2a:function(a,e,t){\"use strict\";t.d(e,\"a\",(function(){return l}));var o=t(\"7424\"),i=t(\"7cf4\"),s=t(\"18d6\");let n=s[\"a\"].getItem(\"pisco-afilweb\");const l={list:async a=>{let e={\"Content-Type\":\"application/json\"},t={tipoEmpleado:a,subdominio:n.subdomain};return await o[\"a\"].get(i[\"a\"].apiEmpleado+\"list/\",{params:t,headers:e}).then((a=>a)).catch((a=>a.response))},create:async a=>{let e={\"Content-Type\":\"application/json\"},t={idPersona:a.idPersona,nombre1:a.nombre1,nombre2:a.nombre2||\"\",apellido1:a.apellido1,apellido2:a.apellido2||\"\",telefono1:a.telefono1,telefono2:a.telefono02||\"\",tipoEmpleado:a.tipoEmpleado,subdominio:n.subdomain};return await o[\"a\"].post(i[\"a\"].apiEmpleado+\"create/\",t,{headers:e}).then((a=>a)).catch((a=>a.response))},edit:async(a,e)=>{let t={\"Content-Type\":\"application/json\"},s={id:a,idPersona:e.idPersona,nombre1:e.nombre1,nombre2:e.nombre2||\"\",apellido1:e.apellido1,apellido2:e.apellido2||\"\",telefono1:e.telefono1,telefono2:e.telefono2||\"\",tipoEmpleado:e.tipoEmpleado,estado:e.estado?0:1,subdominio:n.subdomain};return await o[\"a\"].put(i[\"a\"].apiEmpleado+\"update/\",s,{headers:t}).then((a=>a)).catch((a=>a.response))}}}}]);","name":"js/6.13baa370.js","input":"(window[\"webpackJsonp\"] = window[\"webpackJsonp\"] || []).push([[6],{\n\n/***/ \"30f7\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"a\", function() { return Utilities; });\n/* harmony import */ var _api__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(\"7424\");\n/* harmony import */ var _endpoints__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(\"7cf4\");\n/* harmony import */ var quasar_src_plugins_LocalStorage_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(\"18d6\");\n\n\n;\nlet localStorage = quasar_src_plugins_LocalStorage_js__WEBPACK_IMPORTED_MODULE_2__[/* default */ \"a\"].getItem(\"pisco-afilweb\");\nconst Utilities = {\n  departments: async () => {\n    let headers = {\n      \"Content-Type\": \"application/json\"\n    };\n    let params = {\n      subdominio: localStorage.subdomain\n    };\n    return await _api__WEBPACK_IMPORTED_MODULE_0__[/* default */ \"a\"].get(_endpoints__WEBPACK_IMPORTED_MODULE_1__[/* default */ \"a\"].apiDepartamento + \"list/\", {\n      params,\n      headers\n    }).then(response => {\n      return response;\n    }).catch(err => {\n      return err.response;\n    });\n  },\n  cities: async depto => {\n    const headers = {\n      \"Content-Type\": \"application/json\"\n    };\n    let params = {\n      codDepartamento: depto,\n      subdominio: localStorage.subdomain\n    };\n    return await _api__WEBPACK_IMPORTED_MODULE_0__[/* default */ \"a\"].get(_endpoints__WEBPACK_IMPORTED_MODULE_1__[/* default */ \"a\"].apiDepartamento + \"cities/\", {\n      params,\n      headers\n    }).then(response => {\n      return response;\n    }).catch(err => {\n      return err.response;\n    });\n  },\n  paymentMethods: async () => {\n    let headers = {\n      \"Content-Type\": \"application/json\"\n    };\n    let params = {\n      subdominio: localStorage.subdomain\n    };\n    return await _api__WEBPACK_IMPORTED_MODULE_0__[/* default */ \"a\"].get(_endpoints__WEBPACK_IMPORTED_MODULE_1__[/* default */ \"a\"].apiFormaPago + \"list/\", {\n      params,\n      headers\n    }).then(response => {\n      return response;\n    }).catch(err => {\n      return err.response;\n    });\n  },\n  paymentTypes: async () => {\n    console.log(\"llego a cargar tipos pagos\");\n    let headers = {\n      \"Content-Type\": \"application/json\"\n    };\n    let params = {\n      subdominio: localStorage.subdomain\n    };\n    return await _api__WEBPACK_IMPORTED_MODULE_0__[/* default */ \"a\"].get(_endpoints__WEBPACK_IMPORTED_MODULE_1__[/* default */ \"a\"].apiTipoPago + \"list/\", {\n      params,\n      headers\n    }).then(response => {\n      return response;\n    }).catch(err => {\n      return err.response;\n    });\n  },\n  cash: async () => {\n    let headers = {\n      \"Content-Type\": \"application/json\"\n    };\n    let params = {\n      subdominio: localStorage.subdomain\n    };\n    return await _api__WEBPACK_IMPORTED_MODULE_0__[/* default */ \"a\"].get(_endpoints__WEBPACK_IMPORTED_MODULE_1__[/* default */ \"a\"].apiCaja + \"list/\", {\n      params,\n      headers\n    }).then(response => {\n      return response;\n    }).catch(err => {\n      return err.response;\n    });\n  }\n};\n\n/***/ }),\n\n/***/ \"b0ae\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n// ESM COMPAT FLAG\n__webpack_require__.r(__webpack_exports__);\n\n// CONCATENATED MODULE: ./node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/@quasar/app/lib/webpack/loader.auto-import-client.js?kebab!./node_modules/vue-loader/lib??vue-loader-options!./src/pages/payments/Index.vue?vue&type=template&id=4b6d1b3e&\nvar render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"q-pa-md full-width row justify-center content-center\"},[_c('div',{staticStyle:{\"min-width\":\"400px\",\"max-width\":\"700px\",\"padding\":\"0 20px\"}},[_c('q-table',{attrs:{\"title\":\"Pagos\",\"rows-per-page-label\":\"Items\",\"separator\":\"cell\",\"data\":_vm.dataTable,\"columns\":_vm.columns,\"visible-columns\":_vm.viewColumns,\"row-key\":\"dataTable.id\",\"rows-per-page-options\":_vm.pagination,\"loading\":_vm.loadingTable},scopedSlots:_vm._u([(!_vm.isMobile)?{key:\"top-right\",fn:function(){return [_c('q-btn',{attrs:{\"icon\":\"add\",\"label\":\"Agregar Nuevo\",\"color\":\"primary\"},on:{\"click\":_vm.addItem}})]},proxy:true}:null,{key:\"header-cell-actions\",fn:function(props){return [_c('q-th',{attrs:{\"props\":props}},[_c('q-icon',{attrs:{\"name\":\"view_headline\",\"size\":\"1.5em\"}}),_vm._v(\"\\n          \"+_vm._s(props.col.label)+\"\\n        \")],1)]}},{key:\"body-cell-actions\",fn:function(props){return [_c('q-td',{staticStyle:{\"width\":\"50px\"},attrs:{\"props\":props}},[_c('q-btn',{attrs:{\"dense\":\"\",\"round\":\"\",\"flat\":\"\",\"color\":\"positive\",\"icon\":\"edit\"},on:{\"click\":function($event){return _vm.editItem(props)}}})],1)]}},{key:\"body-cell-anulado\",fn:function(props){return [_c('q-td',{attrs:{\"props\":props}},[_vm._v(\"\\n          \"+_vm._s(_vm._f(\"FilterState\")(props.row.anulado))+\"\\n        \")])]}},{key:\"no-data\",fn:function(){return [_c('div',{staticClass:\"full-width row flex-center q-gutter-sm\"},[_c('span',[_vm._v(\" No hay datos . . . crea el primer registro! \")])])]},proxy:true}],null,true)})],1),(_vm.isMobile)?_c('div',{staticClass:\"column items-center\",staticStyle:{\"padding-bottom\":\"0px\"}},[_c('q-page-sticky',{attrs:{\"position\":\"bottom-left\",\"offset\":[18, 50]}},[_c('q-btn',{attrs:{\"fab\":\"\",\"icon\":\"add\",\"color\":\"primary\"},on:{\"click\":_vm.addItem}})],1)],1):_vm._e()])}\nvar staticRenderFns = []\n\n\n// CONCATENATED MODULE: ./src/pages/payments/Index.vue?vue&type=template&id=4b6d1b3e&\n\n// EXTERNAL MODULE: ./src/services/api.js\nvar api = __webpack_require__(\"7424\");\n\n// EXTERNAL MODULE: ./src/services/endpoints.js\nvar endpoints = __webpack_require__(\"7cf4\");\n\n// EXTERNAL MODULE: ./node_modules/quasar/src/plugins/LocalStorage.js\nvar LocalStorage = __webpack_require__(\"18d6\");\n\n// EXTERNAL MODULE: ./node_modules/moment/moment.js\nvar moment = __webpack_require__(\"c1df\");\nvar moment_default = /*#__PURE__*/__webpack_require__.n(moment);\n\n// CONCATENATED MODULE: ./src/services/http/payments.js\n\n\n;\n\nlet localStorage = LocalStorage[\"a\" /* default */].getItem(\"pisco-afilweb\");\nlet localStorageTitular = LocalStorage[\"a\" /* default */].getItem(\"identificacionTitular\");\nlet localStorageContrato = LocalStorage[\"a\" /* default */].getItem(\"contratoTitular\");\nconst Payments = {\n  list: async () => {\n    let headers = {\n      \"Content-Type\": \"application/json\"\n    };\n    let params = {\n      subdominio: localStorage.subdomain,\n      identificacion: localStorageTitular,\n      idcontrato: localStorageContrato\n    };\n    return await api[\"a\" /* default */].get(endpoints[\"a\" /* default */].apiPagos + \"list/\", {\n      params,\n      headers\n    }).then(response => {\n      console.log(\"los pagos son\", response);\n      return response;\n    }).catch(err => {\n      return err.response;\n    });\n  },\n  create: async payments => {\n    console.log(\"el pago a crear es\", JSON.stringify(payments));\n    console.log(\"el titular a crear es\", JSON.stringify(localStorageTitular));\n    const headers = {\n      \"Content-Type\": \"application/json\"\n    };\n    let data = {\n      nrorecibo: payments.nrorecibo,\n      fecha: moment_default()(payments.fecha).format(),\n      valor: payments.valor,\n      descuento: payments.descuento,\n      anulado: payments.anulado ? true : false,\n      idcobrador: payments.idcobrador,\n      cobrador: payments.cobrador,\n      observaciones: payments.observaciones,\n      cuotadesde: moment_default()(payments.cuotadesde).format(),\n      cuotahasta: moment_default()(payments.cuotahasta).format(),\n      nrofactura: payments.nrofactura,\n      idcaja: payments.idcaja,\n      caja: payments.caja,\n      idtipopago: payments.idtipopago,\n      tipopago: payments.tipopago,\n      identificaciontitular: localStorageTitular,\n      contrato: localStorageContrato,\n      usuario: payments.usuario,\n      nota1: payments.nota1,\n      nota2: payments.nota2,\n      subdominio: localStorage.subdomain\n    };\n    console.log('el pago a guardar es', JSON.stringify(data));\n    return await api[\"a\" /* default */].post(endpoints[\"a\" /* default */].apiPagos + \"create/\", data, {\n      headers\n    }).then(response => {\n      return response;\n    }).catch(err => {\n      return err.response;\n    });\n  },\n  edit: async (id, payments) => {\n    console.log(\"el pago a editar es\", JSON.stringify(payments));\n    let headers = {\n      \"Content-Type\": \"application/json\"\n    };\n    let data = {\n      nrorecibo: payments.nrorecibo,\n      fecha: moment_default()(payments.fecha).format('YYYY-MM-DD'),\n      valor: payments.valor,\n      descuento: payments.descuento,\n      anulado: payments.anulado ? true : false,\n      idcobrador: payments.idcobrador,\n      cobrador: payments.cobrador,\n      observaciones: payments.observaciones,\n      cuotadesde: moment_default()(payments.cuotadesde).format('YYYY-MM-DD'),\n      cuotahasta: moment_default()(payments.cuotahasta).format('YYYY-MM-DD'),\n      nrofactura: payments.nrofactura,\n      idcaja: payments.idcaja,\n      caja: payments.caja,\n      idtipopago: payments.idtipopago,\n      tipopago: payments.tipopago,\n      identificaciontitular: localStorageTitular,\n      contrato: localStorageContrato,\n      usuario: payments.usuario,\n      nota1: payments.nota1,\n      nota2: payments.nota2,\n      subdominio: localStorage.subdomain\n    };\n    console.log(\"el pago es\", JSON.stringify(data));\n    return await api[\"a\" /* default */].put(endpoints[\"a\" /* default */].apiPagos + \"update/\", data, {\n      headers\n    }).then(response => {\n      console.log(\"la respuesta del pago es\", response);\n      return response;\n    }).catch(err => {\n      console.log({\n        err\n      });\n      return err.response;\n    });\n  }\n};\n// EXTERNAL MODULE: ./src/services/notify.js\nvar notify = __webpack_require__(\"4f24\");\n\n// CONCATENATED MODULE: ./node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/@quasar/app/lib/webpack/loader.auto-import-client.js?kebab!./node_modules/vue-loader/lib??vue-loader-options!./src/pages/payments/ModalPayments.vue?vue&type=template&id=eb8fa5ca&\nvar ModalPaymentsvue_type_template_id_eb8fa5ca_render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('q-dialog',{ref:\"dialog\",on:{\"hide\":_vm.onDialogHide}},[_c('q-card',{staticClass:\"q-dialog-plugin body-cards\"},[_c('q-card-section',[_c('q-form',{ref:\"form_modal\"},[_c('q-input',{attrs:{\"type\":\"text\",\"filled\":\"\",\"label\":\"N. Recibo\",\"lazy-rules\":\"\",\"rules\":_vm.textRules,\"counter\":\"\"},model:{value:(_vm.nrorecibo),callback:function ($$v) {_vm.nrorecibo=$$v},expression:\"nrorecibo\"}}),_c('q-input',{attrs:{\"filled\":\"\",\"mask\":\"date\",\"label\":\"Fecha\",\"clearable\":\"\"},scopedSlots:_vm._u([{key:\"append\",fn:function(){return [_c('q-icon',{staticClass:\"cursor-pointer\",attrs:{\"name\":\"event\"}},[_c('q-popup-proxy',{ref:\"qDateProxy\",attrs:{\"transition-show\":\"scale\",\"transition-hide\":\"scale\"}},[_c('q-date',{attrs:{\"options\":_vm.optionDatePicker,\"mask\":\"YYYY-MM-DD\"},model:{value:(_vm.fecha),callback:function ($$v) {_vm.fecha=$$v},expression:\"fecha\"}},[_c('div',{staticClass:\"row items-center justify-end\"},[_c('q-btn',{directives:[{name:\"close-popup\",rawName:\"v-close-popup\"}],attrs:{\"label\":\"Cerrar\",\"color\":\"primary\",\"flat\":\"\"}})],1)])],1)],1)]},proxy:true}]),model:{value:(_vm.fecha),callback:function ($$v) {_vm.fecha=$$v},expression:\"fecha\"}}),_c('br'),_c('q-input',{attrs:{\"type\":\"number\",\"filled\":\"\",\"label\":\"Valor\",\"lazy-rules\":\"\",\"rules\":_vm.selRules,\"counter\":\"\"},model:{value:(_vm.valor),callback:function ($$v) {_vm.valor=$$v},expression:\"valor\"}}),_c('q-input',{attrs:{\"type\":\"number\",\"filled\":\"\",\"label\":\"Descuento\",\"lazy-rules\":\"\",\"counter\":\"\"},model:{value:(_vm.descuento),callback:function ($$v) {_vm.descuento=$$v},expression:\"descuento\"}}),_c('q-select',{attrs:{\"filled\":\"\",\"options\":_vm.cobradores,\"option-value\":\"idPersona\",\"option-label\":function (item) { return ((item.nombre1) + \" \" + (item.apellido1)); },\"label\":\"* Cobrador\",\"emit-value\":\"\",\"map-options\":\"\",\"rules\":_vm.selRules},model:{value:(_vm.idcobrador),callback:function ($$v) {_vm.idcobrador=$$v},expression:\"idcobrador\"}}),_c('q-input',{attrs:{\"filled\":\"\",\"mask\":\"date\",\"label\":\"Cuota Desde\",\"clearable\":\"\"},scopedSlots:_vm._u([{key:\"append\",fn:function(){return [_c('q-icon',{staticClass:\"cursor-pointer\",attrs:{\"name\":\"event\"}},[_c('q-popup-proxy',{ref:\"qDateProxy\",attrs:{\"transition-show\":\"scale\",\"transition-hide\":\"scale\"}},[_c('q-date',{attrs:{\"options\":_vm.optionDatePicker,\"mask\":\"YYYY-MM-DD\"},model:{value:(_vm.cuotadesde),callback:function ($$v) {_vm.cuotadesde=$$v},expression:\"cuotadesde\"}},[_c('div',{staticClass:\"row items-center justify-end\"},[_c('q-btn',{directives:[{name:\"close-popup\",rawName:\"v-close-popup\"}],attrs:{\"label\":\"Cerrar\",\"color\":\"primary\",\"flat\":\"\"}})],1)])],1)],1)]},proxy:true}]),model:{value:(_vm.cuotadesde),callback:function ($$v) {_vm.cuotadesde=$$v},expression:\"cuotadesde\"}}),_c('br'),_c('q-input',{attrs:{\"filled\":\"\",\"mask\":\"date\",\"label\":\"Cuota Hasta\",\"clearable\":\"\"},scopedSlots:_vm._u([{key:\"append\",fn:function(){return [_c('q-icon',{staticClass:\"cursor-pointer\",attrs:{\"name\":\"event\"}},[_c('q-popup-proxy',{ref:\"qDateProxy\",attrs:{\"transition-show\":\"scale\",\"transition-hide\":\"scale\"}},[_c('q-date',{attrs:{\"options\":_vm.optionDatePicker,\"mask\":\"YYYY-MM-DD\"},model:{value:(_vm.cuotahasta),callback:function ($$v) {_vm.cuotahasta=$$v},expression:\"cuotahasta\"}},[_c('div',{staticClass:\"row items-center justify-end\"},[_c('q-btn',{directives:[{name:\"close-popup\",rawName:\"v-close-popup\"}],attrs:{\"label\":\"Cerrar\",\"color\":\"primary\",\"flat\":\"\"}})],1)])],1)],1)]},proxy:true}]),model:{value:(_vm.cuotahasta),callback:function ($$v) {_vm.cuotahasta=$$v},expression:\"cuotahasta\"}}),_c('br'),_c('q-input',{attrs:{\"type\":\"text\",\"filled\":\"\",\"label\":\"N. Factura\",\"lazy-rules\":\"\",\"counter\":\"\"},model:{value:(_vm.nrofactura),callback:function ($$v) {_vm.nrofactura=$$v},expression:\"nrofactura\"}}),_c('q-select',{attrs:{\"filled\":\"\",\"options\":_vm.cajas,\"option-value\":\"idCaja\",\"option-label\":function (item) { return ((item.caja) + \" \"); },\"label\":\"* Caja\",\"emit-value\":\"\",\"map-options\":\"\",\"rules\":_vm.selRules},model:{value:(_vm.idcaja),callback:function ($$v) {_vm.idcaja=$$v},expression:\"idcaja\"}}),_c('q-select',{attrs:{\"filled\":\"\",\"options\":_vm.tipopagos,\"option-value\":\"idTipoPago\",\"option-label\":function (item) { return ((item.tipoPago) + \" \"); },\"label\":\"* Tipo Pago\",\"emit-value\":\"\",\"map-options\":\"\",\"rules\":_vm.selRules},model:{value:(_vm.idtipopago),callback:function ($$v) {_vm.idtipopago=$$v},expression:\"idtipopago\"}}),_c('q-input',{attrs:{\"type\":\"text\",\"filled\":\"\",\"label\":\"Observaciones\",\"lazy-rules\":\"\",\"counter\":\"\"},model:{value:(_vm.observaciones),callback:function ($$v) {_vm.observaciones=$$v},expression:\"observaciones\"}}),_c('q-toggle',{attrs:{\"checked-icon\":\"check\",\"color\":\"red\",\"unchecked-icon\":\"clear\",\"value\":_vm.anulado,\"label\":(\"Anulado \" + _vm.anuladoText)},model:{value:(_vm.anulado),callback:function ($$v) {_vm.anulado=$$v},expression:\"anulado\"}})],1)],1),_c('q-card-actions',{attrs:{\"align\":\"center\"}},[_c('q-btn',{attrs:{\"color\":\"primary\",\"label\":_vm.textAction},on:{\"click\":_vm.onOKClick}}),_c('q-btn',{attrs:{\"color\":\"primary\",\"flat\":\"\",\"label\":\"Cancelar\"},on:{\"click\":_vm.onCancelClick}})],1)],1)],1)}\nvar ModalPaymentsvue_type_template_id_eb8fa5ca_staticRenderFns = []\n\n\n// CONCATENATED MODULE: ./src/pages/payments/ModalPayments.vue?vue&type=template&id=eb8fa5ca&\n\n// EXTERNAL MODULE: ./node_modules/core-js/modules/web.dom-collections.iterator.js\nvar web_dom_collections_iterator = __webpack_require__(\"ddb0\");\n\n// EXTERNAL MODULE: ./src/services/http/utilities.js\nvar utilities = __webpack_require__(\"30f7\");\n\n// EXTERNAL MODULE: ./src/services/http/employees.js\nvar employees = __webpack_require__(\"df2a\");\n\n// CONCATENATED MODULE: ./node_modules/@quasar/app/lib/webpack/loader.transform-quasar-imports.js!./node_modules/babel-loader/lib??ref--2-0!./node_modules/@quasar/app/lib/webpack/loader.auto-import-client.js?kebab!./node_modules/vue-loader/lib??vue-loader-options!./src/pages/payments/ModalPayments.vue?vue&type=script&lang=js&\n\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\n\n\n/* harmony default export */ var ModalPaymentsvue_type_script_lang_js_ = ({\n  name: \"ModalPayments\",\n\n  data() {\n    return {\n      nrorecibo: \"\",\n      valor: 0,\n      descuento: 0,\n      fecha: \"\",\n      cuotadesde: \"\",\n      cuotahasta: \"\",\n      anulado: false,\n      anuladoText: \"No\",\n      cobradores: [],\n      cajas: [],\n      nrofactura: \"\",\n      observaciones: \"\",\n      idcaja: \"\",\n      idtipopago: \"\",\n      tipopagos: [],\n      idcobrador: \"\",\n      textRules: [val => val && val.length > 0 || \"Campo Obligatorio (*)\", val => val.length <= 50 || \"Máximo 50 carácteres\"],\n      selRules: [val => !!val || \"Campo Obligatorio\"],\n      numberRules: [val => !isNaN(parseFloat(val)) && val.length >= 0 || \"Campo Obligatorio (*)\"]\n    };\n  },\n\n  props: {\n    valueField1: {\n      type: String,\n      required: true\n    },\n    valueField2: {\n      type: String,\n      required: true\n    },\n    valueField3: {\n      type: Number,\n      required: true\n    },\n    valueField4: {\n      type: Number,\n      required: false\n    },\n    valueField5: {\n      type: Boolean,\n      required: true\n    },\n    valueField6: {\n      type: String,\n      required: true\n    },\n    valueField7: {\n      type: String,\n      required: false\n    },\n    valueField8: {\n      type: String,\n      required: true\n    },\n    valueField9: {\n      type: String,\n      required: true\n    },\n    valueField10: {\n      type: String,\n      required: false\n    },\n    valueField11: {\n      type: Number,\n      required: true\n    },\n    valueField12: {\n      type: Number,\n      required: true\n    },\n    valueField13: {\n      type: String,\n      required: true\n    },\n    valueField14: {\n      type: String,\n      required: true\n    },\n\n    /* valueField15: {\r\n       type: String,\r\n       required: true\r\n     },\r\n     valueField16: {\r\n       type: String,\r\n       required: true\r\n     },*/\n    textAction: {\n      type: String,\n      required: true\n    }\n  },\n\n  created() {\n    this.loadData();\n    console.log(\"cargar\", this.valueField12);\n    this.nrorecibo = this.valueField1;\n    this.fecha = moment_default()(this.valueField2).format('YYYY-MM-DD');\n    this.valor = this.valueField3;\n    this.descuento = this.valueField4;\n    this.anulado = this.valueField5;\n    this.idcobrador = this.valueField6;\n    this.observaciones = this.valueField7;\n    this.cuotadesde = this.valueField8;\n    this.cuotahasta = this.valueField9;\n    this.nrofactura = this.valueField10;\n    this.idcaja = this.valueField11;\n    this.idtipopago = this.valueField12;\n    this.identificaciontitular = this.valueField13;\n    this.contrato = this.valueField14; //this.caja = this.valueField15;\n    //this.tipoPago = this.valueField16;\n  },\n\n  methods: {\n    show() {\n      /* this.anulado = this.valueField4; */\n      this.loadData();\n      this.$refs.dialog.show();\n    },\n\n    hide() {\n      this.$refs.dialog.hide();\n    },\n\n    optionDatePicker(date) {\n      return date >= \"1900/01/01\" && date <= moment_default()().format(\"YYYY/MM/DD\").toString();\n    },\n\n    onDialogHide() {\n      this.$emit(\"hide\");\n    },\n\n    async loadData() {\n      this.$q.loading.show({\n        message: \"<span class='text-orange text-weight-bold'>Consultando parámetros, por favor espere...</span>\"\n      });\n      await Promise.all([utilities[\"a\" /* Utilities */].paymentTypes(), utilities[\"a\" /* Utilities */].cash(), employees[\"a\" /* Employees */].list('COBRADOR')]).then(result => {\n        console.log(result);\n        this.tipopagos = result[0].data;\n        this.cajas = result[1].data;\n        this.cobradores = result[2].data;\n      }).catch(err => {\n        console.log({\n          err\n        });\n        this.tipopagos = [];\n        this.cajas = [];\n        this.cobradores = []; //  NotifyDialog.triggerNegative(\n        //  \"No fue posible cargar los datos de parametrización\"\n        //);\n      });\n      this.$q.loading.hide();\n    },\n\n    onOKClick() {\n      this.$refs.form_modal.validate().then(success => {\n        if (success) {\n          console.log(\"success\", success);\n          this.$emit(\"ok\", {\n            nrorecibo: this.nrorecibo,\n            fecha: moment_default()(this.fecha).format('YYYY-MM-DD'),\n            valor: this.valor,\n            descuento: this.descuento,\n            anulado: this.anulado,\n            idcobrador: this.idcobrador,\n            cobrador: \"\",\n            cuotadesde: this.cuotadesde,\n            cuotahasta: this.cuotahasta,\n            nrofactura: this.nrofactura,\n            idcaja: this.idcaja,\n            caja: \"\",\n            idtipopago: this.idtipopago,\n            tipopago: \"\",\n            identificaciontitular: this.identificaciontitular,\n            contrato: this.contrato,\n            observaciones: this.observaciones,\n            usuario: \"\",\n            nota1: \"\",\n            nota2: \"\"\n          });\n          this.hide();\n        }\n      });\n    },\n\n    onCancelClick() {\n      this.hide();\n    }\n\n  },\n  watch: {\n    anulado() {\n      this.anuladoText = this.anulado ? \"Si\" : \"No\";\n    }\n\n  }\n});\n// CONCATENATED MODULE: ./src/pages/payments/ModalPayments.vue?vue&type=script&lang=js&\n /* harmony default export */ var payments_ModalPaymentsvue_type_script_lang_js_ = (ModalPaymentsvue_type_script_lang_js_); \n// EXTERNAL MODULE: ./node_modules/vue-loader/lib/runtime/componentNormalizer.js\nvar componentNormalizer = __webpack_require__(\"2877\");\n\n// EXTERNAL MODULE: ./node_modules/quasar/src/components/dialog/QDialog.js\nvar QDialog = __webpack_require__(\"24e8\");\n\n// EXTERNAL MODULE: ./node_modules/quasar/src/components/card/QCard.js\nvar QCard = __webpack_require__(\"f09f\");\n\n// EXTERNAL MODULE: ./node_modules/quasar/src/components/card/QCardSection.js\nvar QCardSection = __webpack_require__(\"a370\");\n\n// EXTERNAL MODULE: ./node_modules/quasar/src/components/form/QForm.js\nvar QForm = __webpack_require__(\"0378\");\n\n// EXTERNAL MODULE: ./node_modules/quasar/src/components/input/QInput.js + 2 modules\nvar QInput = __webpack_require__(\"27f9\");\n\n// EXTERNAL MODULE: ./node_modules/quasar/src/components/icon/QIcon.js\nvar QIcon = __webpack_require__(\"0016\");\n\n// EXTERNAL MODULE: ./node_modules/quasar/src/components/popup-proxy/QPopupProxy.js\nvar QPopupProxy = __webpack_require__(\"7cbe\");\n\n// EXTERNAL MODULE: ./node_modules/quasar/src/components/date/QDate.js + 3 modules\nvar QDate = __webpack_require__(\"52ee\");\n\n// EXTERNAL MODULE: ./node_modules/quasar/src/components/btn/QBtn.js + 1 modules\nvar QBtn = __webpack_require__(\"9c40\");\n\n// EXTERNAL MODULE: ./node_modules/quasar/src/components/select/QSelect.js + 1 modules\nvar QSelect = __webpack_require__(\"ddd8\");\n\n// EXTERNAL MODULE: ./node_modules/quasar/src/components/toggle/QToggle.js\nvar QToggle = __webpack_require__(\"9564\");\n\n// EXTERNAL MODULE: ./node_modules/quasar/src/components/card/QCardActions.js\nvar QCardActions = __webpack_require__(\"4b7e\");\n\n// EXTERNAL MODULE: ./node_modules/quasar/src/directives/ClosePopup.js\nvar ClosePopup = __webpack_require__(\"7f67\");\n\n// EXTERNAL MODULE: ./node_modules/@quasar/app/lib/webpack/runtime.auto-import.js\nvar runtime_auto_import = __webpack_require__(\"eebe\");\nvar runtime_auto_import_default = /*#__PURE__*/__webpack_require__.n(runtime_auto_import);\n\n// CONCATENATED MODULE: ./src/pages/payments/ModalPayments.vue\n\n\n\n\n\n/* normalize component */\n\nvar component = Object(componentNormalizer[\"a\" /* default */])(\n  payments_ModalPaymentsvue_type_script_lang_js_,\n  ModalPaymentsvue_type_template_id_eb8fa5ca_render,\n  ModalPaymentsvue_type_template_id_eb8fa5ca_staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\n/* harmony default export */ var ModalPayments = (component.exports);\n\n\n\n\n\n\n\n\n\n\n\n\n\nruntime_auto_import_default()(component, 'components', {QDialog: QDialog[\"a\" /* default */],QCard: QCard[\"a\" /* default */],QCardSection: QCardSection[\"a\" /* default */],QForm: QForm[\"a\" /* default */],QInput: QInput[\"a\" /* default */],QIcon: QIcon[\"a\" /* default */],QPopupProxy: QPopupProxy[\"a\" /* default */],QDate: QDate[\"a\" /* default */],QBtn: QBtn[\"a\" /* default */],QSelect: QSelect[\"a\" /* default */],QToggle: QToggle[\"a\" /* default */],QCardActions: QCardActions[\"a\" /* default */]});runtime_auto_import_default()(component, 'directives', {ClosePopup: ClosePopup[\"a\" /* default */]});\n\n// CONCATENATED MODULE: ./node_modules/@quasar/app/lib/webpack/loader.transform-quasar-imports.js!./node_modules/babel-loader/lib??ref--2-0!./node_modules/@quasar/app/lib/webpack/loader.auto-import-client.js?kebab!./node_modules/vue-loader/lib??vue-loader-options!./src/pages/payments/Index.vue?vue&type=script&lang=js&\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\n\n\n\n\n/* harmony default export */ var Indexvue_type_script_lang_js_ = ({\n  name: \"Payments\",\n\n  data() {\n    return {\n      loadingTable: false,\n      pagination: [5, 10, 0],\n      viewColumns: [\"actions\", \"nrorecibo\", \"fecha\", \"cuotadesde\", \"cuotahasta\", \"valor\", \"anulado\"],\n      columns: [{\n        name: \"actions\",\n        label: \"\",\n        field: \"\",\n        align: \"center\",\n        icon: \"delete\"\n      }, {\n        name: \"nrorecibo\",\n        required: false,\n        label: \"No. Recibo\",\n        field: \"nrorecibo\",\n        sortable: true,\n        align: \"left\"\n      }, {\n        name: \"fecha\",\n        required: false,\n        label: \"Fecha Pago\",\n        field: \"fecha\",\n        sortable: true,\n        align: \"left\"\n      }, {\n        name: \"cuotadesde\",\n        required: false,\n        label: \"Cuota Desde\",\n        field: \"cuotadesde\",\n        sortable: true,\n        align: \"left\"\n      }, {\n        name: \"cuotahasta\",\n        required: false,\n        label: \"Cuota Hasta\",\n        field: \"cuotahasta\",\n        sortable: true,\n        align: \"left\"\n      }, {\n        name: \"valor\",\n        required: false,\n        label: \"Valor\",\n        field: \"valor\",\n        sortable: true,\n        align: \"right\"\n      }, {\n        name: \"anulado\",\n        required: false,\n        label: \"Anulado\",\n        field: \"anulado\",\n        sortable: true,\n        align: \"left\"\n      }],\n      dataTable: [],\n      fabAction: false\n    };\n  },\n\n  beforeMount() {\n    this.loadData();\n  },\n\n  methods: {\n    editItem(props) {\n      this.fabAction = false;\n      this.saveOrEditItem(props.row);\n    },\n\n    addItem() {\n      this.fabAction = true;\n      this.saveOrEditItem(\"\");\n    },\n\n    saveOrEditItem(valueItem) {\n      console.log(\"los datos delpago son \", valueItem);\n      this.$q.dialog({\n        component: ModalPayments,\n        valueField1: this.fabAction ? \"\" : valueItem.nrorecibo,\n        valueField2: this.fabAction ? \"\" : valueItem.fecha,\n        valueField3: this.fabAction ? 0 : valueItem.valor,\n        valueField4: this.fabAction ? 0 : valueItem.descuento,\n        valueField5: this.fabAction ? false : Boolean(valueItem.anulado),\n        valueField6: this.fabAction ? \"\" : valueItem.idcobrador,\n        valueField7: this.fabAction ? \"\" : valueItem.observaciones,\n        valueField8: this.fabAction ? \"\" : valueItem.cuotadesde,\n        valueField9: this.fabAction ? \"\" : valueItem.cuotahasta,\n        valueField10: this.fabAction ? \"\" : valueItem.nrofactura,\n        valueField11: this.fabAction ? 0 : valueItem.idcaja,\n        valueField12: this.fabAction ? 0 : valueItem.idtipopago,\n        valueField13: this.fabAction ? \"\" : valueItem.identificaciontitular,\n        valueField14: this.fabAction ? \"\" : valueItem.contrato,\n        parent: this,\n        textAction: this.fabAction ? \"Guardar\" : \"Modificar\"\n      }).onOk(value => {\n        if (this.fabAction) {\n          this.addRegister(value);\n        } else {\n          this.editRegister(value, valueItem.id);\n        }\n      }).onCancel(() => {// console.log(\"Cancel\");\n      }).onDismiss(() => {// console.log(\"Called on OK or Cancel\");\n      });\n    },\n\n    async addRegister(dataValue) {\n      console.log(\"los datos del pago son\", dataValue);\n      await Payments.create(dataValue).then(response => {\n        console.log(response);\n\n        if ((response === null || response === void 0 ? void 0 : response.status) === 200) {\n          notify[\"a\" /* default */].triggerPositive(\"Registro almacenado correctamente\");\n          this.loadData();\n        } else {\n          notify[\"a\" /* default */].triggerNegative(\"El registro no pudo ser almacenado\");\n        }\n      });\n    },\n\n    async editRegister(payments, idValue) {\n      console.log(\"los datos del a editar pago son\", payments);\n      await Payments.edit(idValue, payments).then(response => {\n        console.log(response);\n\n        if ((response === null || response === void 0 ? void 0 : response.status) === 200) {\n          notify[\"a\" /* default */].triggerPositive(\"Registro modificado correctamente\");\n          this.loadData();\n        } else {\n          notify[\"a\" /* default */].triggerNegative(\"El registro no pudo ser modificado\");\n        }\n      });\n    },\n\n    async loadData() {\n      this.loadingTable = true;\n      await Payments.list().then(response => {\n        if ((response === null || response === void 0 ? void 0 : response.status) === 200) {\n          this.dataTable = response.data;\n          console.log(\"pagos\", response.data);\n        }\n      });\n      /* let value = this.$q.localStorage.getItem(\"pisco-afilweb\");\r\n        let headers = {\r\n        \"Content-Type\": \"application/json\"\r\n      };\r\n        let params = {\r\n        subdominio: value.subdomain\r\n      };\r\n        try {\r\n        await api\r\n          .get(endpoint.apiPlan + \"list/\", { params, headers })\r\n          .then(response => {\r\n            console.log(response.data);\r\n            this.dataTable = response.data;\r\n          });\r\n      } catch (err) {\r\n        console.log(\"%cIndex.vue line:65 err\", \"color: #007acc;\", { err });\r\n      } */\n\n      this.loadingTable = false;\n    }\n\n  },\n  computed: {\n    isMobile: {\n      get() {\n        return this.$store.state.platform_mobile.isMobile;\n      }\n\n    }\n  }\n});\n// CONCATENATED MODULE: ./src/pages/payments/Index.vue?vue&type=script&lang=js&\n /* harmony default export */ var payments_Indexvue_type_script_lang_js_ = (Indexvue_type_script_lang_js_); \n// EXTERNAL MODULE: ./node_modules/quasar/src/components/table/QTable.js + 17 modules\nvar QTable = __webpack_require__(\"eaac\");\n\n// EXTERNAL MODULE: ./node_modules/quasar/src/components/table/QTh.js\nvar QTh = __webpack_require__(\"357e\");\n\n// EXTERNAL MODULE: ./node_modules/quasar/src/components/table/QTd.js\nvar QTd = __webpack_require__(\"db86\");\n\n// EXTERNAL MODULE: ./node_modules/quasar/src/components/page-sticky/QPageSticky.js\nvar QPageSticky = __webpack_require__(\"de5e\");\n\n// CONCATENATED MODULE: ./src/pages/payments/Index.vue\n\n\n\n\n\n/* normalize component */\n\nvar Index_component = Object(componentNormalizer[\"a\" /* default */])(\n  payments_Indexvue_type_script_lang_js_,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\n/* harmony default export */ var Index = __webpack_exports__[\"default\"] = (Index_component.exports);\n\n\n\n\n\n\n\nruntime_auto_import_default()(Index_component, 'components', {QTable: QTable[\"a\" /* default */],QBtn: QBtn[\"a\" /* default */],QTh: QTh[\"a\" /* default */],QIcon: QIcon[\"a\" /* default */],QTd: QTd[\"a\" /* default */],QPageSticky: QPageSticky[\"a\" /* default */]});\n\n\n/***/ }),\n\n/***/ \"df2a\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"a\", function() { return Employees; });\n/* harmony import */ var _api__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(\"7424\");\n/* harmony import */ var _endpoints__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(\"7cf4\");\n/* harmony import */ var quasar_src_plugins_LocalStorage_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(\"18d6\");\n\n\n;\nlet localStorage = quasar_src_plugins_LocalStorage_js__WEBPACK_IMPORTED_MODULE_2__[/* default */ \"a\"].getItem(\"pisco-afilweb\");\nconst Employees = {\n  list: async type => {\n    let headers = {\n      \"Content-Type\": \"application/json\"\n    };\n    let params = {\n      tipoEmpleado: type,\n      subdominio: localStorage.subdomain\n    };\n    return await _api__WEBPACK_IMPORTED_MODULE_0__[/* default */ \"a\"].get(_endpoints__WEBPACK_IMPORTED_MODULE_1__[/* default */ \"a\"].apiEmpleado + \"list/\", {\n      params,\n      headers\n    }).then(response => {\n      // console.log(response)\n      return response;\n    }).catch(err => {\n      return err.response;\n    });\n  },\n  create: async value => {\n    let headers = {\n      \"Content-Type\": \"application/json\"\n    };\n    let data = {\n      idPersona: value.idPersona,\n      nombre1: value.nombre1,\n      nombre2: value.nombre2 || \"\",\n      apellido1: value.apellido1,\n      apellido2: value.apellido2 || \"\",\n      telefono1: value.telefono1,\n      telefono2: value.telefono02 || \"\",\n      tipoEmpleado: value.tipoEmpleado,\n      subdominio: localStorage.subdomain\n    };\n    return await _api__WEBPACK_IMPORTED_MODULE_0__[/* default */ \"a\"].post(_endpoints__WEBPACK_IMPORTED_MODULE_1__[/* default */ \"a\"].apiEmpleado + \"create/\", data, {\n      headers\n    }).then(response => {\n      return response;\n    }).catch(err => {\n      return err.response;\n    });\n  },\n  edit: async (id, newData) => {\n    let headers = {\n      \"Content-Type\": \"application/json\"\n    };\n    let data = {\n      id: id,\n      idPersona: newData.idPersona,\n      nombre1: newData.nombre1,\n      nombre2: newData.nombre2 || \"\",\n      apellido1: newData.apellido1,\n      apellido2: newData.apellido2 || \"\",\n      telefono1: newData.telefono1,\n      telefono2: newData.telefono2 || \"\",\n      tipoEmpleado: newData.tipoEmpleado,\n      estado: newData.estado ? 0 : 1,\n      subdominio: localStorage.subdomain\n    };\n    return await _api__WEBPACK_IMPORTED_MODULE_0__[/* default */ \"a\"].put(_endpoints__WEBPACK_IMPORTED_MODULE_1__[/* default */ \"a\"].apiEmpleado + \"update/\", data, {\n      headers\n    }).then(response => {\n      return response;\n    }).catch(err => {\n      return err.response;\n    });\n  }\n};\n\n/***/ })\n\n}]);","inputSourceMap":null}