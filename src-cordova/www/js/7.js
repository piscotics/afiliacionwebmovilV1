(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[7],{"04ad":function(a,e,t){},3046:function(a,e,t){"use strict";t("04ad")},"44b2":function(a,e,t){"use strict";t.r(e);var i=function(){var a=this,e=a.$createElement,t=a._self._c||e;return t("div",{staticClass:"q-pa-md full-width row justify-center content-center"},[t("div",{staticClass:"search"},[t("q-card",{staticClass:"search-card"},[t("q-card-section",{staticClass:"row items-center justify-center"},[t("canvas",{attrs:{id:"canvas"}})]),t("q-card-actions",{attrs:{align:"center"}},[t("q-btn",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{flat:"",label:"Firmar",color:"primary",outline:"",disable:a.loading}}),t("q-btn",{attrs:{label:"Imprimir",color:"primary",loading:a.loading,disable:a.loading},on:{click:a.searchData}})],1)],1)],1),a.tipoBuscado?t("div",{staticStyle:{"min-width":"400px","max-width":"700px",padding:"10px 20px"}},[t("q-table",{attrs:{title:"Resultado de busqueda","rows-per-page-label":"Items",separator:"cell",data:a.dataTable,columns:a.columns,"visible-columns":a.viewColumns,"row-key":"dataTable.id","rows-per-page-options":a.pagination,loading:a.loadingTable},scopedSlots:a._u([{key:"header-cell-actions",fn:function(e){return[t("q-th",{attrs:{props:e}},[t("q-icon",{attrs:{name:"view_headline",size:"1.5em"}}),a._v("\n          "+a._s(e.col.label)+"\n        ")],1)]}},{key:"body-cell-actions",fn:function(e){return[t("q-td",{staticStyle:{width:"50px"},attrs:{props:e}},[t("q-btn",{attrs:{dense:"",round:"",flat:"",color:"positive",icon:"edit"},on:{click:function(t){return a.editItem(e)}}})],1)]}},{key:"body-cell-anulado",fn:function(e){return[t("q-td",{attrs:{props:e}},[a._v("\n          "+a._s(a._f("FilterState")(e.row.anulado))+"\n        ")])]}},{key:"no-data",fn:function(){return[t("div",{staticClass:"full-width row flex-center q-gutter-sm"},[t("span",[a._v(" Contratos Encontrados! ")])])]},proxy:!0}],null,!1,176998863)})],1):a._e()])},o=[],l=(t("11ce"),t("8039"),t("4334")),n=t("5bc2"),r=t("caca"),s=t("4e22"),c=t.n(s);let d;var u={data(){return{optType:["NRO CONTRATO","IDENTIFICACION","NOMBRES","APELLIDOS"],selRules:[a=>!!a||"Debe seleccionar una opciÃ³n"],type:"",tipoBuscado:!1,valueSearch:"",dialog:!1,loading:!1,loadingTable:!1,pagination:[5,10,0],viewColumns:["actions","idContrato","identificacion","nombre1","nombre2","apellido1","apellido2","valorCuota","fechaAfiliacion","vigenciaDesde","vigenciaHasta","pagoHasta","estatus"],columns:[{name:"actions",label:"",field:"",align:"center",icon:"delete"},{name:"idContrato",required:!1,label:"NROCONTRATO",field:"idContrato",sortable:!0,align:"left"},{name:"identificacion",required:!1,label:"DOCUMENTO",field:"identificacion",sortable:!0,align:"left"},{name:"nombre1",required:!1,label:"1ER NOMBRE",field:"nombre1",sortable:!0,align:"left"},{name:"nombre2",required:!1,label:"2DO NOMBRE",field:"nombre2",sortable:!0,align:"left"},{name:"apellido1",required:!1,label:"1ER APELLIDO",field:"apellido1",sortable:!0,align:"left"},{name:"apellido2",required:!1,label:"2DO APELLIDO",field:"apellido2",sortable:!0,align:"left"},{name:"valorCuota",required:!1,label:"CUOTA",field:"valorCuota",sortable:!0,align:"right"},{name:"fechaAfiliacion",required:!1,label:"FECHA AFILIACION",field:"fechaAfiliacion",sortable:!0,align:"left"},{name:"vigenciaDesde",required:!1,label:"VIGENCIA DESDE",field:"vigenciaDesde",sortable:!0,align:"left"},{name:"vigenciaHasta",required:!1,label:"VIGENCIA HASTA",field:"vigenciaHasta",sortable:!0,align:"left"},{name:"pagoHasta",required:!1,label:"PAGO HASTA",field:"pagoHasta",sortable:!0,align:"left"},{name:"estatus",required:!1,label:"ESTADO",field:"estatus",sortable:!0,align:"left"}],dataTable:[],fabAction:!1}},mounted(){console.log("elemento noooo existe");var a=document.createElement("script");a.setAttribute("src","https://www.piscotics.com/PiscoWeb/scriptCanvasPruebaPiscoTics.js"),a.setAttribute("id","scriptCanvas"),document.head.appendChild(a),d=r["a"].getItem("contratoGuardado"),console.log("el contrato guadado y consultado es ",d),""!=d&&null!=d&&(this.searchContract(d,"NRO CONTRATO"),localStorage.setItem("contratoGuardado",""))},methods:{editItem(a){this.fabAction=!1,console.log(a.row.idContrato),this.searchContract(a.row.idContrato,"NRO CONTRATO")},async searchContract(a,e){this.loading=!0,console.log("el tipo es",e.toString()),"NRO CONTRATO"==e.toString()||"IDENTIFICACION"==e.toString()?(console.log("entro por cto"),this.tipoBuscado=!1,await l["a"].get(a,e).then((t=>{200===(null===t||void 0===t?void 0:t.status)?(n["a"].triggerPositive("Registro encontrado!!!"),this.$router.push({path:"contract",query:{idcontract:a.toString(),tipobusqued:e.toString()}})):n["a"].triggerNegative("El Contrato no existe")}))):(console.log("entro por nombre"),this.loadingTable=!0,await l["a"].list(a,e).then((a=>{if(200===(null===a||void 0===a?void 0:a.status))if(console.log("encontro datos",a.data.length),a.data.length>=1){this.tipoBuscado=!0;for(let e in a.data)a.data[e].vigenciaDesde=c()(a.data[e].vigenciaDesde).format("YYYY-MMM-DD"),a.data[e].vigenciaHasta=c()(a.data[e].vigenciaHasta).format("YYYY-MMM-DD"),a.data[e].fechaAfiliacion=c()(a.data[e].fechaAfiliacion).format("YYYY-MMM-DD"),a.data[e].pagoHasta=c()(a.data[e].pagoHasta).format("YYYY-MMM-DD");this.dataTable=a.data,this.loadingTable=!1}else n["a"].triggerNegative("No Se Encontraron Datos");else n["a"].triggerNegative("No Se Encontraron Datos")})),this.loadingTable=!1),this.loading=!1},searchData(){""!==this.type&&""!==this.valueSearch&&this.searchContract(this.valueSearch,this.type)}},computed:{isMobile:{get(){return this.$store.state.platform_mobile.isMobile}}}},g=u,p=(t("3046"),t("a6c2")),b=t("ec6d"),f=t("5ce7"),m=t("7006"),h=t("84df"),v=t("ef9c"),C=t("3846"),A=t("8e7e"),O=t("19dc"),T=t("7b08"),D=t("f6b1"),w=t("63c1"),q=t.n(w),N=Object(p["a"])(g,i,o,!1,null,"0cae82cc",null);e["default"]=N.exports;q()(N,"components",{QDialog:b["a"],QCard:f["a"],QCardSection:m["a"],QCardActions:h["a"],QBtn:v["a"],QTable:C["a"],QTh:A["a"],QIcon:O["a"],QTd:T["a"]}),q()(N,"directives",{ClosePopup:D["a"]})}}]);